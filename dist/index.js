import './sourcemap-register.cjs';import{createRequire as i}from"module";var s={191:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;var o=Object.getOwnPropertyDescriptor(s,n);if(!o||("get"in o?!s.__esModule:o.writable||o.configurable)){o={enumerable:true,get:function(){return s[n]}}}Object.defineProperty(i,r,o)}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.prototype.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};Object.defineProperty(s,"__esModule",{value:true});s.issue=s.issueCommand=void 0;const h=a(n(857));const l=n(283);function issueCommand(i,s,n){const r=new Command(i,s,n);process.stdout.write(r.toString()+h.EOL)}s.issueCommand=issueCommand;function issue(i,s=""){issueCommand(i,{},s)}s.issue=issue;const c="::";class Command{constructor(i,s,n){if(!i){i="missing.command"}this.command=i;this.properties=s;this.message=n}toString(){let i=c+this.command;if(this.properties&&Object.keys(this.properties).length>0){i+=" ";let s=true;for(const n in this.properties){if(this.properties.hasOwnProperty(n)){const r=this.properties[n];if(r){if(s){s=false}else{i+=","}i+=`${n}=${escapeProperty(r)}`}}}}i+=`${c}${escapeData(this.message)}`;return i}}function escapeData(i){return(0,l.toCommandValue)(i).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(i){return(0,l.toCommandValue)(i).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},999:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;var o=Object.getOwnPropertyDescriptor(s,n);if(!o||("get"in o?!s.__esModule:o.writable||o.configurable)){o={enumerable:true,get:function(){return s[n]}}}Object.defineProperty(i,r,o)}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.prototype.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};var h=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.platform=s.toPlatformPath=s.toWin32Path=s.toPosixPath=s.markdownSummary=s.summary=s.getIDToken=s.getState=s.saveState=s.group=s.endGroup=s.startGroup=s.info=s.notice=s.warning=s.error=s.debug=s.isDebug=s.setFailed=s.setCommandEcho=s.setOutput=s.getBooleanInput=s.getMultilineInput=s.getInput=s.addPath=s.setSecret=s.exportVariable=s.ExitCode=void 0;const l=n(191);const c=n(58);const u=n(283);const f=a(n(857));const d=a(n(928));const p=n(549);var g;(function(i){i[i["Success"]=0]="Success";i[i["Failure"]=1]="Failure"})(g||(s.ExitCode=g={}));function exportVariable(i,s){const n=(0,u.toCommandValue)(s);process.env[i]=n;const r=process.env["GITHUB_ENV"]||"";if(r){return(0,c.issueFileCommand)("ENV",(0,c.prepareKeyValueMessage)(i,s))}(0,l.issueCommand)("set-env",{name:i},n)}s.exportVariable=exportVariable;function setSecret(i){(0,l.issueCommand)("add-mask",{},i)}s.setSecret=setSecret;function addPath(i){const s=process.env["GITHUB_PATH"]||"";if(s){(0,c.issueFileCommand)("PATH",i)}else{(0,l.issueCommand)("add-path",{},i)}process.env["PATH"]=`${i}${d.delimiter}${process.env["PATH"]}`}s.addPath=addPath;function getInput(i,s){const n=process.env[`INPUT_${i.replace(/ /g,"_").toUpperCase()}`]||"";if(s&&s.required&&!n){throw new Error(`Input required and not supplied: ${i}`)}if(s&&s.trimWhitespace===false){return n}return n.trim()}s.getInput=getInput;function getMultilineInput(i,s){const n=getInput(i,s).split("\n").filter((i=>i!==""));if(s&&s.trimWhitespace===false){return n}return n.map((i=>i.trim()))}s.getMultilineInput=getMultilineInput;function getBooleanInput(i,s){const n=["true","True","TRUE"];const r=["false","False","FALSE"];const o=getInput(i,s);if(n.includes(o))return true;if(r.includes(o))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${i}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}s.getBooleanInput=getBooleanInput;function setOutput(i,s){const n=process.env["GITHUB_OUTPUT"]||"";if(n){return(0,c.issueFileCommand)("OUTPUT",(0,c.prepareKeyValueMessage)(i,s))}process.stdout.write(f.EOL);(0,l.issueCommand)("set-output",{name:i},(0,u.toCommandValue)(s))}s.setOutput=setOutput;function setCommandEcho(i){(0,l.issue)("echo",i?"on":"off")}s.setCommandEcho=setCommandEcho;function setFailed(i){process.exitCode=g.Failure;error(i)}s.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}s.isDebug=isDebug;function debug(i){(0,l.issueCommand)("debug",{},i)}s.debug=debug;function error(i,s={}){(0,l.issueCommand)("error",(0,u.toCommandProperties)(s),i instanceof Error?i.toString():i)}s.error=error;function warning(i,s={}){(0,l.issueCommand)("warning",(0,u.toCommandProperties)(s),i instanceof Error?i.toString():i)}s.warning=warning;function notice(i,s={}){(0,l.issueCommand)("notice",(0,u.toCommandProperties)(s),i instanceof Error?i.toString():i)}s.notice=notice;function info(i){process.stdout.write(i+f.EOL)}s.info=info;function startGroup(i){(0,l.issue)("group",i)}s.startGroup=startGroup;function endGroup(){(0,l.issue)("endgroup")}s.endGroup=endGroup;function group(i,s){return h(this,void 0,void 0,(function*(){startGroup(i);let n;try{n=yield s()}finally{endGroup()}return n}))}s.group=group;function saveState(i,s){const n=process.env["GITHUB_STATE"]||"";if(n){return(0,c.issueFileCommand)("STATE",(0,c.prepareKeyValueMessage)(i,s))}(0,l.issueCommand)("save-state",{name:i},(0,u.toCommandValue)(s))}s.saveState=saveState;function getState(i){return process.env[`STATE_${i}`]||""}s.getState=getState;function getIDToken(i){return h(this,void 0,void 0,(function*(){return yield p.OidcClient.getIDToken(i)}))}s.getIDToken=getIDToken;var y=n(638);Object.defineProperty(s,"summary",{enumerable:true,get:function(){return y.summary}});var w=n(638);Object.defineProperty(s,"markdownSummary",{enumerable:true,get:function(){return w.markdownSummary}});var v=n(539);Object.defineProperty(s,"toPosixPath",{enumerable:true,get:function(){return v.toPosixPath}});Object.defineProperty(s,"toWin32Path",{enumerable:true,get:function(){return v.toWin32Path}});Object.defineProperty(s,"toPlatformPath",{enumerable:true,get:function(){return v.toPlatformPath}});s.platform=a(n(563))},58:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;var o=Object.getOwnPropertyDescriptor(s,n);if(!o||("get"in o?!s.__esModule:o.writable||o.configurable)){o={enumerable:true,get:function(){return s[n]}}}Object.defineProperty(i,r,o)}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.prototype.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};Object.defineProperty(s,"__esModule",{value:true});s.prepareKeyValueMessage=s.issueFileCommand=void 0;const h=a(n(982));const l=a(n(896));const c=a(n(857));const u=n(283);function issueFileCommand(i,s){const n=process.env[`GITHUB_${i}`];if(!n){throw new Error(`Unable to find environment variable for file command ${i}`)}if(!l.existsSync(n)){throw new Error(`Missing file at path: ${n}`)}l.appendFileSync(n,`${(0,u.toCommandValue)(s)}${c.EOL}`,{encoding:"utf8"})}s.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(i,s){const n=`ghadelimiter_${h.randomUUID()}`;const r=(0,u.toCommandValue)(s);if(i.includes(n)){throw new Error(`Unexpected input: name should not contain the delimiter "${n}"`)}if(r.includes(n)){throw new Error(`Unexpected input: value should not contain the delimiter "${n}"`)}return`${i}<<${n}${c.EOL}${r}${c.EOL}${n}`}s.prepareKeyValueMessage=prepareKeyValueMessage},549:function(i,s,n){var r=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.OidcClient=void 0;const o=n(996);const a=n(304);const h=n(999);class OidcClient{static createHttpClient(i=true,s=10){const n={allowRetries:i,maxRetries:s};return new o.HttpClient("actions/oidc-client",[new a.BearerCredentialHandler(OidcClient.getRequestToken())],n)}static getRequestToken(){const i=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!i){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return i}static getIDTokenUrl(){const i=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!i){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return i}static getCall(i){var s;return r(this,void 0,void 0,(function*(){const n=OidcClient.createHttpClient();const r=yield n.getJson(i).catch((i=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${i.statusCode}\n \n        Error Message: ${i.message}`)}));const o=(s=r.result)===null||s===void 0?void 0:s.value;if(!o){throw new Error("Response json body do not have ID Token field")}return o}))}static getIDToken(i){return r(this,void 0,void 0,(function*(){try{let s=OidcClient.getIDTokenUrl();if(i){const n=encodeURIComponent(i);s=`${s}&audience=${n}`}(0,h.debug)(`ID token url is ${s}`);const n=yield OidcClient.getCall(s);(0,h.setSecret)(n);return n}catch(i){throw new Error(`Error message: ${i.message}`)}}))}}s.OidcClient=OidcClient},539:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;var o=Object.getOwnPropertyDescriptor(s,n);if(!o||("get"in o?!s.__esModule:o.writable||o.configurable)){o={enumerable:true,get:function(){return s[n]}}}Object.defineProperty(i,r,o)}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.prototype.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};Object.defineProperty(s,"__esModule",{value:true});s.toPlatformPath=s.toWin32Path=s.toPosixPath=void 0;const h=a(n(928));function toPosixPath(i){return i.replace(/[\\]/g,"/")}s.toPosixPath=toPosixPath;function toWin32Path(i){return i.replace(/[/]/g,"\\")}s.toWin32Path=toWin32Path;function toPlatformPath(i){return i.replace(/[/\\]/g,h.sep)}s.toPlatformPath=toPlatformPath},563:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;var o=Object.getOwnPropertyDescriptor(s,n);if(!o||("get"in o?!s.__esModule:o.writable||o.configurable)){o={enumerable:true,get:function(){return s[n]}}}Object.defineProperty(i,r,o)}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.prototype.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};var h=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};var l=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(s,"__esModule",{value:true});s.getDetails=s.isLinux=s.isMacOS=s.isWindows=s.arch=s.platform=void 0;const c=l(n(857));const u=a(n(872));const getWindowsInfo=()=>h(void 0,void 0,void 0,(function*(){const{stdout:i}=yield u.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Version"',undefined,{silent:true});const{stdout:s}=yield u.getExecOutput('powershell -command "(Get-CimInstance -ClassName Win32_OperatingSystem).Caption"',undefined,{silent:true});return{name:s.trim(),version:i.trim()}}));const getMacOsInfo=()=>h(void 0,void 0,void 0,(function*(){var i,s,n,r;const{stdout:o}=yield u.getExecOutput("sw_vers",undefined,{silent:true});const a=(s=(i=o.match(/ProductVersion:\s*(.+)/))===null||i===void 0?void 0:i[1])!==null&&s!==void 0?s:"";const h=(r=(n=o.match(/ProductName:\s*(.+)/))===null||n===void 0?void 0:n[1])!==null&&r!==void 0?r:"";return{name:h,version:a}}));const getLinuxInfo=()=>h(void 0,void 0,void 0,(function*(){const{stdout:i}=yield u.getExecOutput("lsb_release",["-i","-r","-s"],{silent:true});const[s,n]=i.trim().split("\n");return{name:s,version:n}}));s.platform=c.default.platform();s.arch=c.default.arch();s.isWindows=s.platform==="win32";s.isMacOS=s.platform==="darwin";s.isLinux=s.platform==="linux";function getDetails(){return h(this,void 0,void 0,(function*(){return Object.assign(Object.assign({},yield s.isWindows?getWindowsInfo():s.isMacOS?getMacOsInfo():getLinuxInfo()),{platform:s.platform,arch:s.arch,isWindows:s.isWindows,isMacOS:s.isMacOS,isLinux:s.isLinux})}))}s.getDetails=getDetails},638:function(i,s,n){var r=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.summary=s.markdownSummary=s.SUMMARY_DOCS_URL=s.SUMMARY_ENV_VAR=void 0;const o=n(857);const a=n(896);const{access:h,appendFile:l,writeFile:c}=a.promises;s.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";s.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return r(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const i=process.env[s.SUMMARY_ENV_VAR];if(!i){throw new Error(`Unable to find environment variable for $${s.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield h(i,a.constants.R_OK|a.constants.W_OK)}catch(s){throw new Error(`Unable to access summary file: '${i}'. Check if the file has correct read/write permissions.`)}this._filePath=i;return this._filePath}))}wrap(i,s,n={}){const r=Object.entries(n).map((([i,s])=>` ${i}="${s}"`)).join("");if(!s){return`<${i}${r}>`}return`<${i}${r}>${s}</${i}>`}write(i){return r(this,void 0,void 0,(function*(){const s=!!(i===null||i===void 0?void 0:i.overwrite);const n=yield this.filePath();const r=s?c:l;yield r(n,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return r(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(i,s=false){this._buffer+=i;return s?this.addEOL():this}addEOL(){return this.addRaw(o.EOL)}addCodeBlock(i,s){const n=Object.assign({},s&&{lang:s});const r=this.wrap("pre",this.wrap("code",i),n);return this.addRaw(r).addEOL()}addList(i,s=false){const n=s?"ol":"ul";const r=i.map((i=>this.wrap("li",i))).join("");const o=this.wrap(n,r);return this.addRaw(o).addEOL()}addTable(i){const s=i.map((i=>{const s=i.map((i=>{if(typeof i==="string"){return this.wrap("td",i)}const{header:s,data:n,colspan:r,rowspan:o}=i;const a=s?"th":"td";const h=Object.assign(Object.assign({},r&&{colspan:r}),o&&{rowspan:o});return this.wrap(a,n,h)})).join("");return this.wrap("tr",s)})).join("");const n=this.wrap("table",s);return this.addRaw(n).addEOL()}addDetails(i,s){const n=this.wrap("details",this.wrap("summary",i)+s);return this.addRaw(n).addEOL()}addImage(i,s,n){const{width:r,height:o}=n||{};const a=Object.assign(Object.assign({},r&&{width:r}),o&&{height:o});const h=this.wrap("img",null,Object.assign({src:i,alt:s},a));return this.addRaw(h).addEOL()}addHeading(i,s){const n=`h${s}`;const r=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1";const o=this.wrap(r,i);return this.addRaw(o).addEOL()}addSeparator(){const i=this.wrap("hr",null);return this.addRaw(i).addEOL()}addBreak(){const i=this.wrap("br",null);return this.addRaw(i).addEOL()}addQuote(i,s){const n=Object.assign({},s&&{cite:s});const r=this.wrap("blockquote",i,n);return this.addRaw(r).addEOL()}addLink(i,s){const n=this.wrap("a",i,{href:s});return this.addRaw(n).addEOL()}}const u=new Summary;s.markdownSummary=u;s.summary=u},283:(i,s)=>{Object.defineProperty(s,"__esModule",{value:true});s.toCommandProperties=s.toCommandValue=void 0;function toCommandValue(i){if(i===null||i===undefined){return""}else if(typeof i==="string"||i instanceof String){return i}return JSON.stringify(i)}s.toCommandValue=toCommandValue;function toCommandProperties(i){if(!Object.keys(i).length){return{}}return{title:i.title,file:i.file,line:i.startLine,endLine:i.endLine,col:i.startColumn,endColumn:i.endColumn}}s.toCommandProperties=toCommandProperties},872:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;Object.defineProperty(i,r,{enumerable:true,get:function(){return s[n]}})}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};var h=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.getExecOutput=s.exec=void 0;const l=n(193);const c=a(n(725));function exec(i,s,n){return h(this,void 0,void 0,(function*(){const r=c.argStringToArray(i);if(r.length===0){throw new Error(`Parameter 'commandLine' cannot be null or empty.`)}const o=r[0];s=r.slice(1).concat(s||[]);const a=new c.ToolRunner(o,s,n);return a.exec()}))}s.exec=exec;function getExecOutput(i,s,n){var r,o;return h(this,void 0,void 0,(function*(){let a="";let h="";const c=new l.StringDecoder("utf8");const u=new l.StringDecoder("utf8");const f=(r=n===null||n===void 0?void 0:n.listeners)===null||r===void 0?void 0:r.stdout;const d=(o=n===null||n===void 0?void 0:n.listeners)===null||o===void 0?void 0:o.stderr;const stdErrListener=i=>{h+=u.write(i);if(d){d(i)}};const stdOutListener=i=>{a+=c.write(i);if(f){f(i)}};const p=Object.assign(Object.assign({},n===null||n===void 0?void 0:n.listeners),{stdout:stdOutListener,stderr:stdErrListener});const g=yield exec(i,s,Object.assign(Object.assign({},n),{listeners:p}));a+=c.end();h+=u.end();return{exitCode:g,stdout:a,stderr:h}}))}s.getExecOutput=getExecOutput},725:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;Object.defineProperty(i,r,{enumerable:true,get:function(){return s[n]}})}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};var h=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.argStringToArray=s.ToolRunner=void 0;const l=a(n(857));const c=a(n(434));const u=a(n(317));const f=a(n(928));const d=a(n(357));const p=a(n(746));const g=n(557);const y=process.platform==="win32";class ToolRunner extends c.EventEmitter{constructor(i,s,n){super();if(!i){throw new Error("Parameter 'toolPath' cannot be null or empty.")}this.toolPath=i;this.args=s||[];this.options=n||{}}_debug(i){if(this.options.listeners&&this.options.listeners.debug){this.options.listeners.debug(i)}}_getCommandString(i,s){const n=this._getSpawnFileName();const r=this._getSpawnArgs(i);let o=s?"":"[command]";if(y){if(this._isCmdFile()){o+=n;for(const i of r){o+=` ${i}`}}else if(i.windowsVerbatimArguments){o+=`"${n}"`;for(const i of r){o+=` ${i}`}}else{o+=this._windowsQuoteCmdArg(n);for(const i of r){o+=` ${this._windowsQuoteCmdArg(i)}`}}}else{o+=n;for(const i of r){o+=` ${i}`}}return o}_processLineBuffer(i,s,n){try{let r=s+i.toString();let o=r.indexOf(l.EOL);while(o>-1){const i=r.substring(0,o);n(i);r=r.substring(o+l.EOL.length);o=r.indexOf(l.EOL)}return r}catch(i){this._debug(`error processing line. Failed with error ${i}`);return""}}_getSpawnFileName(){if(y){if(this._isCmdFile()){return process.env["COMSPEC"]||"cmd.exe"}}return this.toolPath}_getSpawnArgs(i){if(y){if(this._isCmdFile()){let s=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const n of this.args){s+=" ";s+=i.windowsVerbatimArguments?n:this._windowsQuoteCmdArg(n)}s+='"';return[s]}}return this.args}_endsWith(i,s){return i.endsWith(s)}_isCmdFile(){const i=this.toolPath.toUpperCase();return this._endsWith(i,".CMD")||this._endsWith(i,".BAT")}_windowsQuoteCmdArg(i){if(!this._isCmdFile()){return this._uvQuoteCmdArg(i)}if(!i){return'""'}const s=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let n=false;for(const r of i){if(s.some((i=>i===r))){n=true;break}}if(!n){return i}let r='"';let o=true;for(let s=i.length;s>0;s--){r+=i[s-1];if(o&&i[s-1]==="\\"){r+="\\"}else if(i[s-1]==='"'){o=true;r+='"'}else{o=false}}r+='"';return r.split("").reverse().join("")}_uvQuoteCmdArg(i){if(!i){return'""'}if(!i.includes(" ")&&!i.includes("\t")&&!i.includes('"')){return i}if(!i.includes('"')&&!i.includes("\\")){return`"${i}"`}let s='"';let n=true;for(let r=i.length;r>0;r--){s+=i[r-1];if(n&&i[r-1]==="\\"){s+="\\"}else if(i[r-1]==='"'){n=true;s+="\\"}else{n=false}}s+='"';return s.split("").reverse().join("")}_cloneExecOptions(i){i=i||{};const s={cwd:i.cwd||process.cwd(),env:i.env||process.env,silent:i.silent||false,windowsVerbatimArguments:i.windowsVerbatimArguments||false,failOnStdErr:i.failOnStdErr||false,ignoreReturnCode:i.ignoreReturnCode||false,delay:i.delay||1e4};s.outStream=i.outStream||process.stdout;s.errStream=i.errStream||process.stderr;return s}_getSpawnOptions(i,s){i=i||{};const n={};n.cwd=i.cwd;n.env=i.env;n["windowsVerbatimArguments"]=i.windowsVerbatimArguments||this._isCmdFile();if(i.windowsVerbatimArguments){n.argv0=`"${s}"`}return n}exec(){return h(this,void 0,void 0,(function*(){if(!p.isRooted(this.toolPath)&&(this.toolPath.includes("/")||y&&this.toolPath.includes("\\"))){this.toolPath=f.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)}this.toolPath=yield d.which(this.toolPath,true);return new Promise(((i,s)=>h(this,void 0,void 0,(function*(){this._debug(`exec tool: ${this.toolPath}`);this._debug("arguments:");for(const i of this.args){this._debug(`   ${i}`)}const n=this._cloneExecOptions(this.options);if(!n.silent&&n.outStream){n.outStream.write(this._getCommandString(n)+l.EOL)}const r=new ExecState(n,this.toolPath);r.on("debug",(i=>{this._debug(i)}));if(this.options.cwd&&!(yield p.exists(this.options.cwd))){return s(new Error(`The cwd: ${this.options.cwd} does not exist!`))}const o=this._getSpawnFileName();const a=u.spawn(o,this._getSpawnArgs(n),this._getSpawnOptions(this.options,o));let h="";if(a.stdout){a.stdout.on("data",(i=>{if(this.options.listeners&&this.options.listeners.stdout){this.options.listeners.stdout(i)}if(!n.silent&&n.outStream){n.outStream.write(i)}h=this._processLineBuffer(i,h,(i=>{if(this.options.listeners&&this.options.listeners.stdline){this.options.listeners.stdline(i)}}))}))}let c="";if(a.stderr){a.stderr.on("data",(i=>{r.processStderr=true;if(this.options.listeners&&this.options.listeners.stderr){this.options.listeners.stderr(i)}if(!n.silent&&n.errStream&&n.outStream){const s=n.failOnStdErr?n.errStream:n.outStream;s.write(i)}c=this._processLineBuffer(i,c,(i=>{if(this.options.listeners&&this.options.listeners.errline){this.options.listeners.errline(i)}}))}))}a.on("error",(i=>{r.processError=i.message;r.processExited=true;r.processClosed=true;r.CheckComplete()}));a.on("exit",(i=>{r.processExitCode=i;r.processExited=true;this._debug(`Exit code ${i} received from tool '${this.toolPath}'`);r.CheckComplete()}));a.on("close",(i=>{r.processExitCode=i;r.processExited=true;r.processClosed=true;this._debug(`STDIO streams have closed for tool '${this.toolPath}'`);r.CheckComplete()}));r.on("done",((n,r)=>{if(h.length>0){this.emit("stdline",h)}if(c.length>0){this.emit("errline",c)}a.removeAllListeners();if(n){s(n)}else{i(r)}}));if(this.options.input){if(!a.stdin){throw new Error("child process missing stdin")}a.stdin.end(this.options.input)}}))))}))}}s.ToolRunner=ToolRunner;function argStringToArray(i){const s=[];let n=false;let r=false;let o="";function append(i){if(r&&i!=='"'){o+="\\"}o+=i;r=false}for(let a=0;a<i.length;a++){const h=i.charAt(a);if(h==='"'){if(!r){n=!n}else{append(h)}continue}if(h==="\\"&&r){append(h);continue}if(h==="\\"&&n){r=true;continue}if(h===" "&&!n){if(o.length>0){s.push(o);o=""}continue}append(h)}if(o.length>0){s.push(o.trim())}return s}s.argStringToArray=argStringToArray;class ExecState extends c.EventEmitter{constructor(i,s){super();this.processClosed=false;this.processError="";this.processExitCode=0;this.processExited=false;this.processStderr=false;this.delay=1e4;this.done=false;this.timeout=null;if(!s){throw new Error("toolPath must not be empty")}this.options=i;this.toolPath=s;if(i.delay){this.delay=i.delay}}CheckComplete(){if(this.done){return}if(this.processClosed){this._setResult()}else if(this.processExited){this.timeout=g.setTimeout(ExecState.HandleTimeout,this.delay,this)}}_debug(i){this.emit("debug",i)}_setResult(){let i;if(this.processExited){if(this.processError){i=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`)}else if(this.processExitCode!==0&&!this.options.ignoreReturnCode){i=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)}else if(this.processStderr&&this.options.failOnStdErr){i=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)}}if(this.timeout){clearTimeout(this.timeout);this.timeout=null}this.done=true;this.emit("done",i,this.processExitCode)}static HandleTimeout(i){if(i.done){return}if(!i.processClosed&&i.processExited){const s=`The STDIO streams did not close within ${i.delay/1e3} seconds of the exit event from process '${i.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;i._debug(s)}i._setResult()}}},304:function(i,s){var n=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.PersonalAccessTokenCredentialHandler=s.BearerCredentialHandler=s.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(i,s){this.username=i;this.password=s}prepareRequest(i){if(!i.headers){throw Error("The request has no headers")}i.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}s.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(i){this.token=i}prepareRequest(i){if(!i.headers){throw Error("The request has no headers")}i.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}s.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(i){this.token=i}prepareRequest(i){if(!i.headers){throw Error("The request has no headers")}i.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return n(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}s.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},996:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;Object.defineProperty(i,r,{enumerable:true,get:function(){return s[n]}})}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};var h=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.HttpClient=s.isHttps=s.HttpClientResponse=s.HttpClientError=s.getProxyUrl=s.MediaTypes=s.Headers=s.HttpCodes=void 0;const l=a(n(611));const c=a(n(692));const u=a(n(524));const f=a(n(124));var d;(function(i){i[i["OK"]=200]="OK";i[i["MultipleChoices"]=300]="MultipleChoices";i[i["MovedPermanently"]=301]="MovedPermanently";i[i["ResourceMoved"]=302]="ResourceMoved";i[i["SeeOther"]=303]="SeeOther";i[i["NotModified"]=304]="NotModified";i[i["UseProxy"]=305]="UseProxy";i[i["SwitchProxy"]=306]="SwitchProxy";i[i["TemporaryRedirect"]=307]="TemporaryRedirect";i[i["PermanentRedirect"]=308]="PermanentRedirect";i[i["BadRequest"]=400]="BadRequest";i[i["Unauthorized"]=401]="Unauthorized";i[i["PaymentRequired"]=402]="PaymentRequired";i[i["Forbidden"]=403]="Forbidden";i[i["NotFound"]=404]="NotFound";i[i["MethodNotAllowed"]=405]="MethodNotAllowed";i[i["NotAcceptable"]=406]="NotAcceptable";i[i["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";i[i["RequestTimeout"]=408]="RequestTimeout";i[i["Conflict"]=409]="Conflict";i[i["Gone"]=410]="Gone";i[i["TooManyRequests"]=429]="TooManyRequests";i[i["InternalServerError"]=500]="InternalServerError";i[i["NotImplemented"]=501]="NotImplemented";i[i["BadGateway"]=502]="BadGateway";i[i["ServiceUnavailable"]=503]="ServiceUnavailable";i[i["GatewayTimeout"]=504]="GatewayTimeout"})(d=s.HttpCodes||(s.HttpCodes={}));var p;(function(i){i["Accept"]="accept";i["ContentType"]="content-type"})(p=s.Headers||(s.Headers={}));var g;(function(i){i["ApplicationJson"]="application/json"})(g=s.MediaTypes||(s.MediaTypes={}));function getProxyUrl(i){const s=u.getProxyUrl(new URL(i));return s?s.href:""}s.getProxyUrl=getProxyUrl;const y=[d.MovedPermanently,d.ResourceMoved,d.SeeOther,d.TemporaryRedirect,d.PermanentRedirect];const w=[d.BadGateway,d.ServiceUnavailable,d.GatewayTimeout];const v=["OPTIONS","GET","DELETE","HEAD"];const b=10;const S=5;class HttpClientError extends Error{constructor(i,s){super(i);this.name="HttpClientError";this.statusCode=s;Object.setPrototypeOf(this,HttpClientError.prototype)}}s.HttpClientError=HttpClientError;class HttpClientResponse{constructor(i){this.message=i}readBody(){return h(this,void 0,void 0,(function*(){return new Promise((i=>h(this,void 0,void 0,(function*(){let s=Buffer.alloc(0);this.message.on("data",(i=>{s=Buffer.concat([s,i])}));this.message.on("end",(()=>{i(s.toString())}))}))))}))}readBodyBuffer(){return h(this,void 0,void 0,(function*(){return new Promise((i=>h(this,void 0,void 0,(function*(){const s=[];this.message.on("data",(i=>{s.push(i)}));this.message.on("end",(()=>{i(Buffer.concat(s))}))}))))}))}}s.HttpClientResponse=HttpClientResponse;function isHttps(i){const s=new URL(i);return s.protocol==="https:"}s.isHttps=isHttps;class HttpClient{constructor(i,s,n){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=i;this.handlers=s||[];this.requestOptions=n;if(n){if(n.ignoreSslError!=null){this._ignoreSslError=n.ignoreSslError}this._socketTimeout=n.socketTimeout;if(n.allowRedirects!=null){this._allowRedirects=n.allowRedirects}if(n.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=n.allowRedirectDowngrade}if(n.maxRedirects!=null){this._maxRedirects=Math.max(n.maxRedirects,0)}if(n.keepAlive!=null){this._keepAlive=n.keepAlive}if(n.allowRetries!=null){this._allowRetries=n.allowRetries}if(n.maxRetries!=null){this._maxRetries=n.maxRetries}}}options(i,s){return h(this,void 0,void 0,(function*(){return this.request("OPTIONS",i,null,s||{})}))}get(i,s){return h(this,void 0,void 0,(function*(){return this.request("GET",i,null,s||{})}))}del(i,s){return h(this,void 0,void 0,(function*(){return this.request("DELETE",i,null,s||{})}))}post(i,s,n){return h(this,void 0,void 0,(function*(){return this.request("POST",i,s,n||{})}))}patch(i,s,n){return h(this,void 0,void 0,(function*(){return this.request("PATCH",i,s,n||{})}))}put(i,s,n){return h(this,void 0,void 0,(function*(){return this.request("PUT",i,s,n||{})}))}head(i,s){return h(this,void 0,void 0,(function*(){return this.request("HEAD",i,null,s||{})}))}sendStream(i,s,n,r){return h(this,void 0,void 0,(function*(){return this.request(i,s,n,r)}))}getJson(i,s={}){return h(this,void 0,void 0,(function*(){s[p.Accept]=this._getExistingOrDefaultHeader(s,p.Accept,g.ApplicationJson);const n=yield this.get(i,s);return this._processResponse(n,this.requestOptions)}))}postJson(i,s,n={}){return h(this,void 0,void 0,(function*(){const r=JSON.stringify(s,null,2);n[p.Accept]=this._getExistingOrDefaultHeader(n,p.Accept,g.ApplicationJson);n[p.ContentType]=this._getExistingOrDefaultHeader(n,p.ContentType,g.ApplicationJson);const o=yield this.post(i,r,n);return this._processResponse(o,this.requestOptions)}))}putJson(i,s,n={}){return h(this,void 0,void 0,(function*(){const r=JSON.stringify(s,null,2);n[p.Accept]=this._getExistingOrDefaultHeader(n,p.Accept,g.ApplicationJson);n[p.ContentType]=this._getExistingOrDefaultHeader(n,p.ContentType,g.ApplicationJson);const o=yield this.put(i,r,n);return this._processResponse(o,this.requestOptions)}))}patchJson(i,s,n={}){return h(this,void 0,void 0,(function*(){const r=JSON.stringify(s,null,2);n[p.Accept]=this._getExistingOrDefaultHeader(n,p.Accept,g.ApplicationJson);n[p.ContentType]=this._getExistingOrDefaultHeader(n,p.ContentType,g.ApplicationJson);const o=yield this.patch(i,r,n);return this._processResponse(o,this.requestOptions)}))}request(i,s,n,r){return h(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const o=new URL(s);let a=this._prepareRequest(i,o,r);const h=this._allowRetries&&v.includes(i)?this._maxRetries+1:1;let l=0;let c;do{c=yield this.requestRaw(a,n);if(c&&c.message&&c.message.statusCode===d.Unauthorized){let i;for(const s of this.handlers){if(s.canHandleAuthentication(c)){i=s;break}}if(i){return i.handleAuthentication(this,a,n)}else{return c}}let s=this._maxRedirects;while(c.message.statusCode&&y.includes(c.message.statusCode)&&this._allowRedirects&&s>0){const h=c.message.headers["location"];if(!h){break}const l=new URL(h);if(o.protocol==="https:"&&o.protocol!==l.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield c.readBody();if(l.hostname!==o.hostname){for(const i in r){if(i.toLowerCase()==="authorization"){delete r[i]}}}a=this._prepareRequest(i,l,r);c=yield this.requestRaw(a,n);s--}if(!c.message.statusCode||!w.includes(c.message.statusCode)){return c}l+=1;if(l<h){yield c.readBody();yield this._performExponentialBackoff(l)}}while(l<h);return c}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(i,s){return h(this,void 0,void 0,(function*(){return new Promise(((n,r)=>{function callbackForResult(i,s){if(i){r(i)}else if(!s){r(new Error("Unknown error"))}else{n(s)}}this.requestRawWithCallback(i,s,callbackForResult)}))}))}requestRawWithCallback(i,s,n){if(typeof s==="string"){if(!i.options.headers){i.options.headers={}}i.options.headers["Content-Length"]=Buffer.byteLength(s,"utf8")}let r=false;function handleResult(i,s){if(!r){r=true;n(i,s)}}const o=i.httpModule.request(i.options,(i=>{const s=new HttpClientResponse(i);handleResult(undefined,s)}));let a;o.on("socket",(i=>{a=i}));o.setTimeout(this._socketTimeout||3*6e4,(()=>{if(a){a.end()}handleResult(new Error(`Request timeout: ${i.options.path}`))}));o.on("error",(function(i){handleResult(i)}));if(s&&typeof s==="string"){o.write(s,"utf8")}if(s&&typeof s!=="string"){s.on("close",(function(){o.end()}));s.pipe(o)}else{o.end()}}getAgent(i){const s=new URL(i);return this._getAgent(s)}_prepareRequest(i,s,n){const r={};r.parsedUrl=s;const o=r.parsedUrl.protocol==="https:";r.httpModule=o?c:l;const a=o?443:80;r.options={};r.options.host=r.parsedUrl.hostname;r.options.port=r.parsedUrl.port?parseInt(r.parsedUrl.port):a;r.options.path=(r.parsedUrl.pathname||"")+(r.parsedUrl.search||"");r.options.method=i;r.options.headers=this._mergeHeaders(n);if(this.userAgent!=null){r.options.headers["user-agent"]=this.userAgent}r.options.agent=this._getAgent(r.parsedUrl);if(this.handlers){for(const i of this.handlers){i.prepareRequest(r.options)}}return r}_mergeHeaders(i){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(i||{}))}return lowercaseKeys(i||{})}_getExistingOrDefaultHeader(i,s,n){let r;if(this.requestOptions&&this.requestOptions.headers){r=lowercaseKeys(this.requestOptions.headers)[s]}return i[s]||r||n}_getAgent(i){let s;const n=u.getProxyUrl(i);const r=n&&n.hostname;if(this._keepAlive&&r){s=this._proxyAgent}if(this._keepAlive&&!r){s=this._agent}if(s){return s}const o=i.protocol==="https:";let a=100;if(this.requestOptions){a=this.requestOptions.maxSockets||l.globalAgent.maxSockets}if(n&&n.hostname){const i={maxSockets:a,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})};let r;const h=n.protocol==="https:";if(o){r=h?f.httpsOverHttps:f.httpsOverHttp}else{r=h?f.httpOverHttps:f.httpOverHttp}s=r(i);this._proxyAgent=s}if(this._keepAlive&&!s){const i={keepAlive:this._keepAlive,maxSockets:a};s=o?new c.Agent(i):new l.Agent(i);this._agent=s}if(!s){s=o?c.globalAgent:l.globalAgent}if(o&&this._ignoreSslError){s.options=Object.assign(s.options||{},{rejectUnauthorized:false})}return s}_performExponentialBackoff(i){return h(this,void 0,void 0,(function*(){i=Math.min(b,i);const s=S*Math.pow(2,i);return new Promise((i=>setTimeout((()=>i()),s)))}))}_processResponse(i,s){return h(this,void 0,void 0,(function*(){return new Promise(((n,r)=>h(this,void 0,void 0,(function*(){const o=i.message.statusCode||0;const a={statusCode:o,result:null,headers:{}};if(o===d.NotFound){n(a)}function dateTimeDeserializer(i,s){if(typeof s==="string"){const i=new Date(s);if(!isNaN(i.valueOf())){return i}}return s}let h;let l;try{l=yield i.readBody();if(l&&l.length>0){if(s&&s.deserializeDates){h=JSON.parse(l,dateTimeDeserializer)}else{h=JSON.parse(l)}a.result=h}a.headers=i.message.headers}catch(i){}if(o>299){let i;if(h&&h.message){i=h.message}else if(l&&l.length>0){i=l}else{i=`Failed request: (${o})`}const s=new HttpClientError(i,o);s.result=a.result;r(s)}else{n(a)}}))))}))}}s.HttpClient=HttpClient;const lowercaseKeys=i=>Object.keys(i).reduce(((s,n)=>(s[n.toLowerCase()]=i[n],s)),{})},524:(i,s)=>{Object.defineProperty(s,"__esModule",{value:true});s.checkBypass=s.getProxyUrl=void 0;function getProxyUrl(i){const s=i.protocol==="https:";if(checkBypass(i)){return undefined}const n=(()=>{if(s){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(n){try{return new URL(n)}catch(i){if(!n.startsWith("http://")&&!n.startsWith("https://"))return new URL(`http://${n}`)}}else{return undefined}}s.getProxyUrl=getProxyUrl;function checkBypass(i){if(!i.hostname){return false}const s=i.hostname;if(isLoopbackAddress(s)){return true}const n=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!n){return false}let r;if(i.port){r=Number(i.port)}else if(i.protocol==="http:"){r=80}else if(i.protocol==="https:"){r=443}const o=[i.hostname.toUpperCase()];if(typeof r==="number"){o.push(`${o[0]}:${r}`)}for(const i of n.split(",").map((i=>i.trim().toUpperCase())).filter((i=>i))){if(i==="*"||o.some((s=>s===i||s.endsWith(`.${i}`)||i.startsWith(".")&&s.endsWith(`${i}`)))){return true}}return false}s.checkBypass=checkBypass;function isLoopbackAddress(i){const s=i.toLowerCase();return s==="localhost"||s.startsWith("127.")||s.startsWith("[::1]")||s.startsWith("[0:0:0:0:0:0:0:1]")}},746:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;Object.defineProperty(i,r,{enumerable:true,get:function(){return s[n]}})}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};var h=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};var l;Object.defineProperty(s,"__esModule",{value:true});s.getCmdPath=s.tryGetExecutablePath=s.isRooted=s.isDirectory=s.exists=s.READONLY=s.UV_FS_O_EXLOCK=s.IS_WINDOWS=s.unlink=s.symlink=s.stat=s.rmdir=s.rm=s.rename=s.readlink=s.readdir=s.open=s.mkdir=s.lstat=s.copyFile=s.chmod=void 0;const c=a(n(896));const u=a(n(928));l=c.promises,s.chmod=l.chmod,s.copyFile=l.copyFile,s.lstat=l.lstat,s.mkdir=l.mkdir,s.open=l.open,s.readdir=l.readdir,s.readlink=l.readlink,s.rename=l.rename,s.rm=l.rm,s.rmdir=l.rmdir,s.stat=l.stat,s.symlink=l.symlink,s.unlink=l.unlink;s.IS_WINDOWS=process.platform==="win32";s.UV_FS_O_EXLOCK=268435456;s.READONLY=c.constants.O_RDONLY;function exists(i){return h(this,void 0,void 0,(function*(){try{yield s.stat(i)}catch(i){if(i.code==="ENOENT"){return false}throw i}return true}))}s.exists=exists;function isDirectory(i,n=false){return h(this,void 0,void 0,(function*(){const r=n?yield s.stat(i):yield s.lstat(i);return r.isDirectory()}))}s.isDirectory=isDirectory;function isRooted(i){i=normalizeSeparators(i);if(!i){throw new Error('isRooted() parameter "p" cannot be empty')}if(s.IS_WINDOWS){return i.startsWith("\\")||/^[A-Z]:/i.test(i)}return i.startsWith("/")}s.isRooted=isRooted;function tryGetExecutablePath(i,n){return h(this,void 0,void 0,(function*(){let r=undefined;try{r=yield s.stat(i)}catch(s){if(s.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${i}': ${s}`)}}if(r&&r.isFile()){if(s.IS_WINDOWS){const s=u.extname(i).toUpperCase();if(n.some((i=>i.toUpperCase()===s))){return i}}else{if(isUnixExecutable(r)){return i}}}const o=i;for(const a of n){i=o+a;r=undefined;try{r=yield s.stat(i)}catch(s){if(s.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${i}': ${s}`)}}if(r&&r.isFile()){if(s.IS_WINDOWS){try{const n=u.dirname(i);const r=u.basename(i).toUpperCase();for(const o of yield s.readdir(n)){if(r===o.toUpperCase()){i=u.join(n,o);break}}}catch(s){console.log(`Unexpected error attempting to determine the actual case of the file '${i}': ${s}`)}return i}else{if(isUnixExecutable(r)){return i}}}}return""}))}s.tryGetExecutablePath=tryGetExecutablePath;function normalizeSeparators(i){i=i||"";if(s.IS_WINDOWS){i=i.replace(/\//g,"\\");return i.replace(/\\\\+/g,"\\")}return i.replace(/\/\/+/g,"/")}function isUnixExecutable(i){return(i.mode&1)>0||(i.mode&8)>0&&i.gid===process.getgid()||(i.mode&64)>0&&i.uid===process.getuid()}function getCmdPath(){var i;return(i=process.env["COMSPEC"])!==null&&i!==void 0?i:`cmd.exe`}s.getCmdPath=getCmdPath},357:function(i,s,n){var r=this&&this.__createBinding||(Object.create?function(i,s,n,r){if(r===undefined)r=n;Object.defineProperty(i,r,{enumerable:true,get:function(){return s[n]}})}:function(i,s,n,r){if(r===undefined)r=n;i[r]=s[n]});var o=this&&this.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:true,value:s})}:function(i,s){i["default"]=s});var a=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var n in i)if(n!=="default"&&Object.hasOwnProperty.call(i,n))r(s,i,n);o(s,i);return s};var h=this&&this.__awaiter||function(i,s,n,r){function adopt(i){return i instanceof n?i:new n((function(s){s(i)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(i){try{step(r.next(i))}catch(i){o(i)}}function rejected(i){try{step(r["throw"](i))}catch(i){o(i)}}function step(i){i.done?n(i.value):adopt(i.value).then(fulfilled,rejected)}step((r=r.apply(i,s||[])).next())}))};Object.defineProperty(s,"__esModule",{value:true});s.findInPath=s.which=s.mkdirP=s.rmRF=s.mv=s.cp=void 0;const l=n(613);const c=a(n(928));const u=a(n(746));function cp(i,s,n={}){return h(this,void 0,void 0,(function*(){const{force:r,recursive:o,copySourceDirectory:a}=readCopyOptions(n);const h=(yield u.exists(s))?yield u.stat(s):null;if(h&&h.isFile()&&!r){return}const l=h&&h.isDirectory()&&a?c.join(s,c.basename(i)):s;if(!(yield u.exists(i))){throw new Error(`no such file or directory: ${i}`)}const f=yield u.stat(i);if(f.isDirectory()){if(!o){throw new Error(`Failed to copy. ${i} is a directory, but tried to copy without recursive flag.`)}else{yield cpDirRecursive(i,l,0,r)}}else{if(c.relative(i,l)===""){throw new Error(`'${l}' and '${i}' are the same file`)}yield copyFile(i,l,r)}}))}s.cp=cp;function mv(i,s,n={}){return h(this,void 0,void 0,(function*(){if(yield u.exists(s)){let r=true;if(yield u.isDirectory(s)){s=c.join(s,c.basename(i));r=yield u.exists(s)}if(r){if(n.force==null||n.force){yield rmRF(s)}else{throw new Error("Destination already exists")}}}yield mkdirP(c.dirname(s));yield u.rename(i,s)}))}s.mv=mv;function rmRF(i){return h(this,void 0,void 0,(function*(){if(u.IS_WINDOWS){if(/[*"<>|]/.test(i)){throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows')}}try{yield u.rm(i,{force:true,maxRetries:3,recursive:true,retryDelay:300})}catch(i){throw new Error(`File was unable to be removed ${i}`)}}))}s.rmRF=rmRF;function mkdirP(i){return h(this,void 0,void 0,(function*(){l.ok(i,"a path argument must be provided");yield u.mkdir(i,{recursive:true})}))}s.mkdirP=mkdirP;function which(i,s){return h(this,void 0,void 0,(function*(){if(!i){throw new Error("parameter 'tool' is required")}if(s){const s=yield which(i,false);if(!s){if(u.IS_WINDOWS){throw new Error(`Unable to locate executable file: ${i}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`)}else{throw new Error(`Unable to locate executable file: ${i}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}}return s}const n=yield findInPath(i);if(n&&n.length>0){return n[0]}return""}))}s.which=which;function findInPath(i){return h(this,void 0,void 0,(function*(){if(!i){throw new Error("parameter 'tool' is required")}const s=[];if(u.IS_WINDOWS&&process.env["PATHEXT"]){for(const i of process.env["PATHEXT"].split(c.delimiter)){if(i){s.push(i)}}}if(u.isRooted(i)){const n=yield u.tryGetExecutablePath(i,s);if(n){return[n]}return[]}if(i.includes(c.sep)){return[]}const n=[];if(process.env.PATH){for(const i of process.env.PATH.split(c.delimiter)){if(i){n.push(i)}}}const r=[];for(const o of n){const n=yield u.tryGetExecutablePath(c.join(o,i),s);if(n){r.push(n)}}return r}))}s.findInPath=findInPath;function readCopyOptions(i){const s=i.force==null?true:i.force;const n=Boolean(i.recursive);const r=i.copySourceDirectory==null?true:Boolean(i.copySourceDirectory);return{force:s,recursive:n,copySourceDirectory:r}}function cpDirRecursive(i,s,n,r){return h(this,void 0,void 0,(function*(){if(n>=255)return;n++;yield mkdirP(s);const o=yield u.readdir(i);for(const a of o){const o=`${i}/${a}`;const h=`${s}/${a}`;const l=yield u.lstat(o);if(l.isDirectory()){yield cpDirRecursive(o,h,n,r)}else{yield copyFile(o,h,r)}}yield u.chmod(s,(yield u.stat(i)).mode)}))}function copyFile(i,s,n){return h(this,void 0,void 0,(function*(){if((yield u.lstat(i)).isSymbolicLink()){try{yield u.lstat(s);yield u.unlink(s)}catch(i){if(i.code==="EPERM"){yield u.chmod(s,"0666");yield u.unlink(s)}}const n=yield u.readlink(i);yield u.symlink(n,s,u.IS_WINDOWS?"junction":null)}else if(!(yield u.exists(s))||n){yield u.copyFile(i,s)}}))}},846:function(i,s,n){var r=this&&this.__assign||function(){r=Object.assign||function(i){for(var s,n=1,r=arguments.length;n<r;n++){s=arguments[n];for(var o in s)if(Object.prototype.hasOwnProperty.call(s,o))i[o]=s[o]}return i};return r.apply(this,arguments)};var o=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(s,"__esModule",{value:true});s.getInput=void 0;var a=o(n(239));a.default.config();var h=["string","array","boolean","number"];var l={required:false,type:"string",disableable:false};var getEnvVar=function(i){var s=process.env["INPUT_".concat(i.replace(/ /g,"_").toUpperCase())];var n=process.env[i];return s||n||undefined};var parseArray=function(i){var s=i.split("\n").join(",").split(",");var n=s.filter((function(i){return i}));return n.map((function(i){return i.trim()}))};var parseBoolean=function(i){var s=["true","True","TRUE"];var n=["false","False","FALSE"];if(s.includes(i))return true;if(n.includes(i))return false;throw new Error("boolean input has to be one of `true | True | TRUE | false | False | FALSE`")};var parseNumber=function(i){var s=Number(i);if(isNaN(s))throw new Error("input has to be a valid number");return s};var parseValue=function(i,s){if(s==="array"){return parseArray(i)}if(s==="boolean"){return parseBoolean(i)}if(s==="number"){return parseNumber(i)}return i.trim()};var getInput=function(i,s){var n;if(typeof i==="string"||Array.isArray(i)){n=r({key:i},s)}else if(typeof i==="object"){n=i}else{throw new Error("No key for input specified")}if(!n.key)throw new Error("No key for input specified");var o=Object.assign({},l,n);if(h.includes(o.type)===false)throw new Error("option type has to be one of `string | array | boolean | number`");var a=typeof o.key==="string"?getEnvVar(o.key):o.key.map((function(i){return getEnvVar(i)})).filter((function(i){return i}))[0];if(o.disableable&&a==="false")return undefined;var c=a!==undefined?parseValue(a,o.type):undefined;if(c===undefined){if(o.required)throw new Error("Input `".concat(o.key,"` is required but was not provided."));if(o.default!==undefined)return o.default;return undefined}if(o.modifier)return o.modifier(c);return c};s.getInput=getInput;i.exports.getInput=s.getInput},127:i=>{i.exports=balanced;function balanced(i,s,n){if(i instanceof RegExp)i=maybeMatch(i,n);if(s instanceof RegExp)s=maybeMatch(s,n);var r=range(i,s,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+i.length,r[1]),post:n.slice(r[1]+s.length)}}function maybeMatch(i,s){var n=s.match(i);return n?n[0]:null}balanced.range=range;function range(i,s,n){var r,o,a,h,l;var c=n.indexOf(i);var u=n.indexOf(s,c+1);var f=c;if(c>=0&&u>0){if(i===s){return[c,u]}r=[];a=n.length;while(f>=0&&!l){if(f==c){r.push(f);c=n.indexOf(i,f+1)}else if(r.length==1){l=[r.pop(),u]}else{o=r.pop();if(o<a){a=o;h=u}u=n.indexOf(s,f+1)}f=c<u&&c>=0?c:u}if(r.length){l=[a,h]}}return l}},83:(i,s,n)=>{var r=n(127);i.exports=expandTop;var o="\0SLASH"+Math.random()+"\0";var a="\0OPEN"+Math.random()+"\0";var h="\0CLOSE"+Math.random()+"\0";var l="\0COMMA"+Math.random()+"\0";var c="\0PERIOD"+Math.random()+"\0";function numeric(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function escapeBraces(i){return i.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(h).split("\\,").join(l).split("\\.").join(c)}function unescapeBraces(i){return i.split(o).join("\\").split(a).join("{").split(h).join("}").split(l).join(",").split(c).join(".")}function parseCommaParts(i){if(!i)return[""];var s=[];var n=r("{","}",i);if(!n)return i.split(",");var o=n.pre;var a=n.body;var h=n.post;var l=o.split(",");l[l.length-1]+="{"+a+"}";var c=parseCommaParts(h);if(h.length){l[l.length-1]+=c.shift();l.push.apply(l,c)}s.push.apply(s,l);return s}function expandTop(i){if(!i)return[];if(i.substr(0,2)==="{}"){i="\\{\\}"+i.substr(2)}return expand(escapeBraces(i),true).map(unescapeBraces)}function embrace(i){return"{"+i+"}"}function isPadded(i){return/^-?0\d/.test(i)}function lte(i,s){return i<=s}function gte(i,s){return i>=s}function expand(i,s){var n=[];var o=r("{","}",i);if(!o)return[i];var a=o.pre;var l=o.post.length?expand(o.post,false):[""];if(/\$$/.test(o.pre)){for(var c=0;c<l.length;c++){var u=a+"{"+o.body+"}"+l[c];n.push(u)}}else{var f=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var d=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var p=f||d;var g=o.body.indexOf(",")>=0;if(!p&&!g){if(o.post.match(/,.*\}/)){i=o.pre+"{"+o.body+h+o.post;return expand(i)}return[i]}var y;if(p){y=o.body.split(/\.\./)}else{y=parseCommaParts(o.body);if(y.length===1){y=expand(y[0],false).map(embrace);if(y.length===1){return l.map((function(i){return o.pre+y[0]+i}))}}}var w;if(p){var v=numeric(y[0]);var b=numeric(y[1]);var S=Math.max(y[0].length,y[1].length);var _=y.length==3?Math.abs(numeric(y[2])):1;var x=lte;var k=b<v;if(k){_*=-1;x=gte}var E=y.some(isPadded);w=[];for(var O=v;x(O,b);O+=_){var C;if(d){C=String.fromCharCode(O);if(C==="\\")C=""}else{C=String(O);if(E){var P=S-C.length;if(P>0){var T=new Array(P+1).join("0");if(O<0)C="-"+T+C.slice(1);else C=T+C}}}w.push(C)}}else{w=[];for(var A=0;A<y.length;A++){w.push.apply(w,expand(y[A],false))}}for(var A=0;A<w.length;A++){for(var c=0;c<l.length;c++){var u=a+w[A]+l[c];if(!s||p||u)n.push(u)}}}return n}},239:(i,s,n)=>{const r=n(896);const o=n(928);function log(i){console.log(`[dotenv][DEBUG] ${i}`)}const a="\n";const h=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/;const l=/\\n/g;const c=/\n|\r|\r\n/;function parse(i,s){const n=Boolean(s&&s.debug);const r={};i.toString().split(c).forEach((function(i,s){const o=i.match(h);if(o!=null){const i=o[1];let s=o[2]||"";const n=s.length-1;const h=s[0]==='"'&&s[n]==='"';const c=s[0]==="'"&&s[n]==="'";if(c||h){s=s.substring(1,n);if(h){s=s.replace(l,a)}}else{s=s.trim()}r[i]=s}else if(n){log(`did not match key and value when parsing line ${s+1}: ${i}`)}}));return r}function config(i){let s=o.resolve(process.cwd(),".env");let n="utf8";let a=false;if(i){if(i.path!=null){s=i.path}if(i.encoding!=null){n=i.encoding}if(i.debug!=null){a=true}}try{const i=parse(r.readFileSync(s,{encoding:n}),{debug:a});Object.keys(i).forEach((function(s){if(!Object.prototype.hasOwnProperty.call(process.env,s)){process.env[s]=i[s]}else if(a){log(`"${s}" is already defined in \`process.env\` and will not be overwritten`)}}));return{parsed:i}}catch(i){return{error:i}}}i.exports.config=config;i.exports.parse=parse},124:(i,s,n)=>{i.exports=n(660)},660:(i,s,n)=>{var r=n(278);var o=n(756);var a=n(611);var h=n(692);var l=n(434);var c=n(613);var u=n(23);s.httpOverHttp=httpOverHttp;s.httpsOverHttp=httpsOverHttp;s.httpOverHttps=httpOverHttps;s.httpsOverHttps=httpsOverHttps;function httpOverHttp(i){var s=new TunnelingAgent(i);s.request=a.request;return s}function httpsOverHttp(i){var s=new TunnelingAgent(i);s.request=a.request;s.createSocket=createSecureSocket;s.defaultPort=443;return s}function httpOverHttps(i){var s=new TunnelingAgent(i);s.request=h.request;return s}function httpsOverHttps(i){var s=new TunnelingAgent(i);s.request=h.request;s.createSocket=createSecureSocket;s.defaultPort=443;return s}function TunnelingAgent(i){var s=this;s.options=i||{};s.proxyOptions=s.options.proxy||{};s.maxSockets=s.options.maxSockets||a.Agent.defaultMaxSockets;s.requests=[];s.sockets=[];s.on("free",(function onFree(i,n,r,o){var a=toOptions(n,r,o);for(var h=0,l=s.requests.length;h<l;++h){var c=s.requests[h];if(c.host===a.host&&c.port===a.port){s.requests.splice(h,1);c.request.onSocket(i);return}}i.destroy();s.removeSocket(i)}))}u.inherits(TunnelingAgent,l.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(i,s,n,r){var o=this;var a=mergeOptions({request:i},o.options,toOptions(s,n,r));if(o.sockets.length>=this.maxSockets){o.requests.push(a);return}o.createSocket(a,(function(s){s.on("free",onFree);s.on("close",onCloseOrRemove);s.on("agentRemove",onCloseOrRemove);i.onSocket(s);function onFree(){o.emit("free",s,a)}function onCloseOrRemove(i){o.removeSocket(s);s.removeListener("free",onFree);s.removeListener("close",onCloseOrRemove);s.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(i,s){var n=this;var r={};n.sockets.push(r);var o=mergeOptions({},n.proxyOptions,{method:"CONNECT",path:i.host+":"+i.port,agent:false,headers:{host:i.host+":"+i.port}});if(i.localAddress){o.localAddress=i.localAddress}if(o.proxyAuth){o.headers=o.headers||{};o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")}f("making CONNECT request");var a=n.request(o);a.useChunkedEncodingByDefault=false;a.once("response",onResponse);a.once("upgrade",onUpgrade);a.once("connect",onConnect);a.once("error",onError);a.end();function onResponse(i){i.upgrade=true}function onUpgrade(i,s,n){process.nextTick((function(){onConnect(i,s,n)}))}function onConnect(o,h,l){a.removeAllListeners();h.removeAllListeners();if(o.statusCode!==200){f("tunneling socket could not be established, statusCode=%d",o.statusCode);h.destroy();var c=new Error("tunneling socket could not be established, "+"statusCode="+o.statusCode);c.code="ECONNRESET";i.request.emit("error",c);n.removeSocket(r);return}if(l.length>0){f("got illegal response body from proxy");h.destroy();var c=new Error("got illegal response body from proxy");c.code="ECONNRESET";i.request.emit("error",c);n.removeSocket(r);return}f("tunneling connection has established");n.sockets[n.sockets.indexOf(r)]=h;return s(h)}function onError(s){a.removeAllListeners();f("tunneling socket could not be established, cause=%s\n",s.message,s.stack);var o=new Error("tunneling socket could not be established, "+"cause="+s.message);o.code="ECONNRESET";i.request.emit("error",o);n.removeSocket(r)}};TunnelingAgent.prototype.removeSocket=function removeSocket(i){var s=this.sockets.indexOf(i);if(s===-1){return}this.sockets.splice(s,1);var n=this.requests.shift();if(n){this.createSocket(n,(function(i){n.request.onSocket(i)}))}};function createSecureSocket(i,s){var n=this;TunnelingAgent.prototype.createSocket.call(n,i,(function(r){var a=i.request.getHeader("host");var h=mergeOptions({},n.options,{socket:r,servername:a?a.replace(/:.*$/,""):i.host});var l=o.connect(0,h);n.sockets[n.sockets.indexOf(r)]=l;s(l)}))}function toOptions(i,s,n){if(typeof i==="string"){return{host:i,port:s,localAddress:n}}return i}function mergeOptions(i){for(var s=1,n=arguments.length;s<n;++s){var r=arguments[s];if(typeof r==="object"){var o=Object.keys(r);for(var a=0,h=o.length;a<h;++a){var l=o[a];if(r[l]!==undefined){i[l]=r[l]}}}}return i}var f;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){f=function(){var i=Array.prototype.slice.call(arguments);if(typeof i[0]==="string"){i[0]="TUNNEL: "+i[0]}else{i.unshift("TUNNEL:")}console.error.apply(console,i)}}else{f=function(){}}s.debug=f},613:s=>{s.exports=i(import.meta.url)("assert")},317:s=>{s.exports=i(import.meta.url)("child_process")},982:s=>{s.exports=i(import.meta.url)("crypto")},434:s=>{s.exports=i(import.meta.url)("events")},896:s=>{s.exports=i(import.meta.url)("fs")},611:s=>{s.exports=i(import.meta.url)("http")},692:s=>{s.exports=i(import.meta.url)("https")},278:s=>{s.exports=i(import.meta.url)("net")},857:s=>{s.exports=i(import.meta.url)("os")},928:s=>{s.exports=i(import.meta.url)("path")},193:s=>{s.exports=i(import.meta.url)("string_decoder")},557:s=>{s.exports=i(import.meta.url)("timers")},756:s=>{s.exports=i(import.meta.url)("tls")},23:s=>{s.exports=i(import.meta.url)("util")}};var n={};function __nccwpck_require__(i){var r=n[i];if(r!==undefined){return r.exports}var o=n[i]={exports:{}};var a=true;try{s[i].call(o.exports,o,o.exports,__nccwpck_require__);a=false}finally{if(a)delete n[i]}return o.exports}(()=>{__nccwpck_require__.n=i=>{var s=i&&i.__esModule?()=>i["default"]:()=>i;__nccwpck_require__.d(s,{a:s});return s}})();(()=>{var i=Object.getPrototypeOf?i=>Object.getPrototypeOf(i):i=>i.__proto__;var s;__nccwpck_require__.t=function(n,r){if(r&1)n=this(n);if(r&8)return n;if(typeof n==="object"&&n){if(r&4&&n.__esModule)return n;if(r&16&&typeof n.then==="function")return n}var o=Object.create(null);__nccwpck_require__.r(o);var a={};s=s||[null,i({}),i([]),i(i)];for(var h=r&2&&n;typeof h=="object"&&!~s.indexOf(h);h=i(h)){Object.getOwnPropertyNames(h).forEach((i=>a[i]=()=>n[i]))}a["default"]=()=>n;__nccwpck_require__.d(o,a);return o}})();(()=>{__nccwpck_require__.d=(i,s)=>{for(var n in s){if(__nccwpck_require__.o(s,n)&&!__nccwpck_require__.o(i,n)){Object.defineProperty(i,n,{enumerable:true,get:s[n]})}}}})();(()=>{__nccwpck_require__.o=(i,s)=>Object.prototype.hasOwnProperty.call(i,s)})();(()=>{__nccwpck_require__.r=i=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(i,"__esModule",{value:true})}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=new URL(".",import.meta.url).pathname.slice(import.meta.url.match(/^file:\/\/\/\w:/)?1:0,-1)+"/";var r={};var o=__nccwpck_require__(999);var a=__nccwpck_require__(846);const h=i(import.meta.url)("fs/promises");var l=__nccwpck_require__(83);const c=1024*64;const assertValidPattern=i=>{if(typeof i!=="string"){throw new TypeError("invalid pattern")}if(i.length>c){throw new TypeError("pattern is too long")}};const u={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",true],"[:alpha:]":["\\p{L}\\p{Nl}",true],"[:ascii:]":["\\x"+"00-\\x"+"7f",false],"[:blank:]":["\\p{Zs}\\t",true],"[:cntrl:]":["\\p{Cc}",true],"[:digit:]":["\\p{Nd}",true],"[:graph:]":["\\p{Z}\\p{C}",true,true],"[:lower:]":["\\p{Ll}",true],"[:print:]":["\\p{C}",true],"[:punct:]":["\\p{P}",true],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",true],"[:upper:]":["\\p{Lu}",true],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",true],"[:xdigit:]":["A-Fa-f0-9",false]};const braceEscape=i=>i.replace(/[[\]\\-]/g,"\\$&");const regexpEscape=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const rangesToString=i=>i.join("");const parseClass=(i,s)=>{const n=s;if(i.charAt(n)!=="["){throw new Error("not in a brace expression")}const r=[];const o=[];let a=n+1;let h=false;let l=false;let c=false;let f=false;let d=n;let p="";t:while(a<i.length){const s=i.charAt(a);if((s==="!"||s==="^")&&a===n+1){f=true;a++;continue}if(s==="]"&&h&&!c){d=a+1;break}h=true;if(s==="\\"){if(!c){c=true;a++;continue}}if(s==="["&&!c){for(const[s,[h,c,f]]of Object.entries(u)){if(i.startsWith(s,a)){if(p){return["$.",false,i.length-n,true]}a+=s.length;if(f)o.push(h);else r.push(h);l=l||c;continue t}}}c=false;if(p){if(s>p){r.push(braceEscape(p)+"-"+braceEscape(s))}else if(s===p){r.push(braceEscape(s))}p="";a++;continue}if(i.startsWith("-]",a+1)){r.push(braceEscape(s+"-"));a+=2;continue}if(i.startsWith("-",a+1)){p=s;a+=2;continue}r.push(braceEscape(s));a++}if(d<a){return["",false,0,false]}if(!r.length&&!o.length){return["$.",false,i.length-n,true]}if(o.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!f){const i=r[0].length===2?r[0].slice(-1):r[0];return[regexpEscape(i),false,d-n,false]}const g="["+(f?"^":"")+rangesToString(r)+"]";const y="["+(f?"":"^")+rangesToString(o)+"]";const w=r.length&&o.length?"("+g+"|"+y+")":r.length?g:y;return[w,l,d-n,true]};const unescape_unescape=(i,{windowsPathsNoEscape:s=false}={})=>s?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");const f=new Set(["!","?","+","*","@"]);const isExtglobType=i=>f.has(i);const d="(?!(?:^|/)\\.\\.?(?:$|/))";const p="(?!\\.)";const g=new Set(["[","."]);const y=new Set(["..","."]);const w=new Set("().*{}+?[]^$\\!");const regExpEscape=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");const v="[^/]";const b=v+"*?";const S=v+"+?";class AST{type;#t;#e;#i=false;#s=[];#n;#r;#o;#a=false;#h;#l;#c=false;constructor(i,s,n={}){this.type=i;if(i)this.#e=true;this.#n=s;this.#t=this.#n?this.#n.#t:this;this.#h=this.#t===this?n:this.#t.#h;this.#o=this.#t===this?[]:this.#t.#o;if(i==="!"&&!this.#t.#a)this.#o.push(this);this.#r=this.#n?this.#n.#s.length:0}get hasMagic(){if(this.#e!==undefined)return this.#e;for(const i of this.#s){if(typeof i==="string")continue;if(i.type||i.hasMagic)return this.#e=true}return this.#e}toString(){if(this.#l!==undefined)return this.#l;if(!this.type){return this.#l=this.#s.map((i=>String(i))).join("")}else{return this.#l=this.type+"("+this.#s.map((i=>String(i))).join("|")+")"}}#u(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString();this.#a=true;let i;while(i=this.#o.pop()){if(i.type!=="!")continue;let s=i;let n=s.#n;while(n){for(let r=s.#r+1;!n.type&&r<n.#s.length;r++){for(const s of i.#s){if(typeof s==="string"){throw new Error("string part in extglob AST??")}s.copyIn(n.#s[r])}}s=n;n=s.#n}}return this}push(...i){for(const s of i){if(s==="")continue;if(typeof s!=="string"&&!(s instanceof AST&&s.#n===this)){throw new Error("invalid part: "+s)}this.#s.push(s)}}toJSON(){const i=this.type===null?this.#s.slice().map((i=>typeof i==="string"?i:i.toJSON())):[this.type,...this.#s.map((i=>i.toJSON()))];if(this.isStart()&&!this.type)i.unshift([]);if(this.isEnd()&&(this===this.#t||this.#t.#a&&this.#n?.type==="!")){i.push({})}return i}isStart(){if(this.#t===this)return true;if(!this.#n?.isStart())return false;if(this.#r===0)return true;const i=this.#n;for(let s=0;s<this.#r;s++){const n=i.#s[s];if(!(n instanceof AST&&n.type==="!")){return false}}return true}isEnd(){if(this.#t===this)return true;if(this.#n?.type==="!")return true;if(!this.#n?.isEnd())return false;if(!this.type)return this.#n?.isEnd();const i=this.#n?this.#n.#s.length:0;return this.#r===i-1}copyIn(i){if(typeof i==="string")this.push(i);else this.push(i.clone(this))}clone(i){const s=new AST(this.type,i);for(const i of this.#s){s.copyIn(i)}return s}static#f(i,s,n,r){let o=false;let a=false;let h=-1;let l=false;if(s.type===null){let c=n;let u="";while(c<i.length){const n=i.charAt(c++);if(o||n==="\\"){o=!o;u+=n;continue}if(a){if(c===h+1){if(n==="^"||n==="!"){l=true}}else if(n==="]"&&!(c===h+2&&l)){a=false}u+=n;continue}else if(n==="["){a=true;h=c;l=false;u+=n;continue}if(!r.noext&&isExtglobType(n)&&i.charAt(c)==="("){s.push(u);u="";const o=new AST(n,s);c=AST.#f(i,o,c,r);s.push(o);continue}u+=n}s.push(u);return c}let c=n+1;let u=new AST(null,s);const f=[];let d="";while(c<i.length){const n=i.charAt(c++);if(o||n==="\\"){o=!o;d+=n;continue}if(a){if(c===h+1){if(n==="^"||n==="!"){l=true}}else if(n==="]"&&!(c===h+2&&l)){a=false}d+=n;continue}else if(n==="["){a=true;h=c;l=false;d+=n;continue}if(isExtglobType(n)&&i.charAt(c)==="("){u.push(d);d="";const s=new AST(n,u);u.push(s);c=AST.#f(i,s,c,r);continue}if(n==="|"){u.push(d);d="";f.push(u);u=new AST(null,s);continue}if(n===")"){if(d===""&&s.#s.length===0){s.#c=true}u.push(d);d="";s.push(...f,u);return c}d+=n}s.type=null;s.#e=undefined;s.#s=[i.substring(n-1)];return c}static fromGlob(i,s={}){const n=new AST(null,undefined,s);AST.#f(i,n,0,s);return n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();const i=this.toString();const[s,n,r,o]=this.toRegExpSource();const a=r||this.#e||this.#h.nocase&&!this.#h.nocaseMagicOnly&&i.toUpperCase()!==i.toLowerCase();if(!a){return n}const h=(this.#h.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${s}$`,h),{_src:s,_glob:i})}get options(){return this.#h}toRegExpSource(i){const s=i??!!this.#h.dot;if(this.#t===this)this.#u();if(!this.type){const n=this.isStart()&&this.isEnd();const r=this.#s.map((s=>{const[r,o,a,h]=typeof s==="string"?AST.#d(s,this.#e,n):s.toRegExpSource(i);this.#e=this.#e||a;this.#i=this.#i||h;return r})).join("");let o="";if(this.isStart()){if(typeof this.#s[0]==="string"){const n=this.#s.length===1&&y.has(this.#s[0]);if(!n){const n=g;const a=s&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4));const h=!s&&!i&&n.has(r.charAt(0));o=a?d:h?p:""}}}let a="";if(this.isEnd()&&this.#t.#a&&this.#n?.type==="!"){a="(?:$|\\/)"}const h=o+r+a;return[h,unescape_unescape(r),this.#e=!!this.#e,this.#i]}const n=this.type==="*"||this.type==="+";const r=this.type==="!"?"(?:(?!(?:":"(?:";let o=this.#p(s);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const i=this.toString();this.#s=[i];this.type=null;this.#e=undefined;return[i,unescape_unescape(this.toString()),false,false]}let a=!n||i||s||!p?"":this.#p(true);if(a===o){a=""}if(a){o=`(?:${o})(?:${a})*?`}let h="";if(this.type==="!"&&this.#c){h=(this.isStart()&&!s?p:"")+S}else{const n=this.type==="!"?"))"+(this.isStart()&&!s&&!i?p:"")+b+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?`)?`:`)${this.type}`;h=r+o+n}return[h,unescape_unescape(o),this.#e=!!this.#e,this.#i]}#p(i){return this.#s.map((s=>{if(typeof s==="string"){throw new Error("string type in extglob ast??")}const[n,r,o,a]=s.toRegExpSource(i);this.#i=this.#i||a;return n})).filter((i=>!(this.isStart()&&this.isEnd())||!!i)).join("|")}static#d(i,s,n=false){let r=false;let o="";let a=false;for(let h=0;h<i.length;h++){const l=i.charAt(h);if(r){r=false;o+=(w.has(l)?"\\":"")+l;continue}if(l==="\\"){if(h===i.length-1){o+="\\\\"}else{r=true}continue}if(l==="["){const[n,r,l,c]=parseClass(i,h);if(l){o+=n;a=a||r;h+=l-1;s=s||c;continue}}if(l==="*"){if(n&&i==="*")o+=S;else o+=b;s=true;continue}if(l==="?"){o+=v;s=true;continue}o+=regExpEscape(l)}return[o,unescape_unescape(i),!!s,a]}}const escape_escape=(i,{windowsPathsNoEscape:s=false}={})=>s?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");const minimatch=(i,s,n={})=>{assertValidPattern(s);if(!n.nocomment&&s.charAt(0)==="#"){return false}return new Minimatch(s,n).match(i)};const _=/^\*+([^+@!?\*\[\(]*)$/;const starDotExtTest=i=>s=>!s.startsWith(".")&&s.endsWith(i);const starDotExtTestDot=i=>s=>s.endsWith(i);const starDotExtTestNocase=i=>{i=i.toLowerCase();return s=>!s.startsWith(".")&&s.toLowerCase().endsWith(i)};const starDotExtTestNocaseDot=i=>{i=i.toLowerCase();return s=>s.toLowerCase().endsWith(i)};const x=/^\*+\.\*+$/;const starDotStarTest=i=>!i.startsWith(".")&&i.includes(".");const starDotStarTestDot=i=>i!=="."&&i!==".."&&i.includes(".");const k=/^\.\*+$/;const dotStarTest=i=>i!=="."&&i!==".."&&i.startsWith(".");const E=/^\*+$/;const starTest=i=>i.length!==0&&!i.startsWith(".");const starTestDot=i=>i.length!==0&&i!=="."&&i!=="..";const O=/^\?+([^+@!?\*\[\(]*)?$/;const qmarksTestNocase=([i,s=""])=>{const n=qmarksTestNoExt([i]);if(!s)return n;s=s.toLowerCase();return i=>n(i)&&i.toLowerCase().endsWith(s)};const qmarksTestNocaseDot=([i,s=""])=>{const n=qmarksTestNoExtDot([i]);if(!s)return n;s=s.toLowerCase();return i=>n(i)&&i.toLowerCase().endsWith(s)};const qmarksTestDot=([i,s=""])=>{const n=qmarksTestNoExtDot([i]);return!s?n:i=>n(i)&&i.endsWith(s)};const qmarksTest=([i,s=""])=>{const n=qmarksTestNoExt([i]);return!s?n:i=>n(i)&&i.endsWith(s)};const qmarksTestNoExt=([i])=>{const s=i.length;return i=>i.length===s&&!i.startsWith(".")};const qmarksTestNoExtDot=([i])=>{const s=i.length;return i=>i.length===s&&i!=="."&&i!==".."};const C=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";const P={win32:{sep:"\\"},posix:{sep:"/"}};const T=C==="win32"?P.win32.sep:P.posix.sep;minimatch.sep=T;const A=Symbol("globstar **");minimatch.GLOBSTAR=A;const R="[^/]";const L=R+"*?";const M="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";const j="(?:(?!(?:\\/|^)\\.).)*?";const filter=(i,s={})=>n=>minimatch(n,i,s);minimatch.filter=filter;const ext=(i,s={})=>Object.assign({},i,s);const defaults=i=>{if(!i||typeof i!=="object"||!Object.keys(i).length){return minimatch}const s=minimatch;const m=(n,r,o={})=>s(n,r,ext(i,o));return Object.assign(m,{Minimatch:class Minimatch extends s.Minimatch{constructor(s,n={}){super(s,ext(i,n))}static defaults(n){return s.defaults(ext(i,n)).Minimatch}},AST:class AST extends s.AST{constructor(s,n,r={}){super(s,n,ext(i,r))}static fromGlob(n,r={}){return s.AST.fromGlob(n,ext(i,r))}},unescape:(n,r={})=>s.unescape(n,ext(i,r)),escape:(n,r={})=>s.escape(n,ext(i,r)),filter:(n,r={})=>s.filter(n,ext(i,r)),defaults:n=>s.defaults(ext(i,n)),makeRe:(n,r={})=>s.makeRe(n,ext(i,r)),braceExpand:(n,r={})=>s.braceExpand(n,ext(i,r)),match:(n,r,o={})=>s.match(n,r,ext(i,o)),sep:s.sep,GLOBSTAR:A})};minimatch.defaults=defaults;const braceExpand=(i,s={})=>{assertValidPattern(i);if(s.nobrace||!/\{(?:(?!\{).)*\}/.test(i)){return[i]}return l(i)};minimatch.braceExpand=braceExpand;const makeRe=(i,s={})=>new Minimatch(i,s).makeRe();minimatch.makeRe=makeRe;const match=(i,s,n={})=>{const r=new Minimatch(s,n);i=i.filter((i=>r.match(i)));if(r.options.nonull&&!i.length){i.push(s)}return i};minimatch.match=match;const F=/[?*]|[+@!]\(.*?\)|\[|\]/;const esm_regExpEscape=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Minimatch{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(i,s={}){assertValidPattern(i);s=s||{};this.options=s;this.pattern=i;this.platform=s.platform||C;this.isWindows=this.platform==="win32";this.windowsPathsNoEscape=!!s.windowsPathsNoEscape||s.allowWindowsEscape===false;if(this.windowsPathsNoEscape){this.pattern=this.pattern.replace(/\\/g,"/")}this.preserveMultipleSlashes=!!s.preserveMultipleSlashes;this.regexp=null;this.negate=false;this.nonegate=!!s.nonegate;this.comment=false;this.empty=false;this.partial=!!s.partial;this.nocase=!!this.options.nocase;this.windowsNoMagicRoot=s.windowsNoMagicRoot!==undefined?s.windowsNoMagicRoot:!!(this.isWindows&&this.nocase);this.globSet=[];this.globParts=[];this.set=[];this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1){return true}for(const i of this.set){for(const s of i){if(typeof s!=="string")return true}}return false}debug(...i){}make(){const i=this.pattern;const s=this.options;if(!s.nocomment&&i.charAt(0)==="#"){this.comment=true;return}if(!i){this.empty=true;return}this.parseNegate();this.globSet=[...new Set(this.braceExpand())];if(s.debug){this.debug=(...i)=>console.error(...i)}this.debug(this.pattern,this.globSet);const n=this.globSet.map((i=>this.slashSplit(i)));this.globParts=this.preprocess(n);this.debug(this.pattern,this.globParts);let r=this.globParts.map(((i,s,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const s=i[0]===""&&i[1]===""&&(i[2]==="?"||!F.test(i[2]))&&!F.test(i[3]);const n=/^[a-z]:/i.test(i[0]);if(s){return[...i.slice(0,4),...i.slice(4).map((i=>this.parse(i)))]}else if(n){return[i[0],...i.slice(1).map((i=>this.parse(i)))]}}return i.map((i=>this.parse(i)))}));this.debug(this.pattern,r);this.set=r.filter((i=>i.indexOf(false)===-1));if(this.isWindows){for(let i=0;i<this.set.length;i++){const s=this.set[i];if(s[0]===""&&s[1]===""&&this.globParts[i][2]==="?"&&typeof s[3]==="string"&&/^[a-z]:$/i.test(s[3])){s[2]="?"}}}this.debug(this.pattern,this.set)}preprocess(i){if(this.options.noglobstar){for(let s=0;s<i.length;s++){for(let n=0;n<i[s].length;n++){if(i[s][n]==="**"){i[s][n]="*"}}}}const{optimizationLevel:s=1}=this.options;if(s>=2){i=this.firstPhasePreProcess(i);i=this.secondPhasePreProcess(i)}else if(s>=1){i=this.levelOneOptimize(i)}else{i=this.adjascentGlobstarOptimize(i)}return i}adjascentGlobstarOptimize(i){return i.map((i=>{let s=-1;while(-1!==(s=i.indexOf("**",s+1))){let n=s;while(i[n+1]==="**"){n++}if(n!==s){i.splice(s,n-s)}}return i}))}levelOneOptimize(i){return i.map((i=>{i=i.reduce(((i,s)=>{const n=i[i.length-1];if(s==="**"&&n==="**"){return i}if(s===".."){if(n&&n!==".."&&n!=="."&&n!=="**"){i.pop();return i}}i.push(s);return i}),[]);return i.length===0?[""]:i}))}levelTwoFileOptimize(i){if(!Array.isArray(i)){i=this.slashSplit(i)}let s=false;do{s=false;if(!this.preserveMultipleSlashes){for(let n=1;n<i.length-1;n++){const r=i[n];if(n===1&&r===""&&i[0]==="")continue;if(r==="."||r===""){s=true;i.splice(n,1);n--}}if(i[0]==="."&&i.length===2&&(i[1]==="."||i[1]==="")){s=true;i.pop()}}let n=0;while(-1!==(n=i.indexOf("..",n+1))){const r=i[n-1];if(r&&r!=="."&&r!==".."&&r!=="**"){s=true;i.splice(n-1,2);n-=2}}}while(s);return i.length===0?[""]:i}firstPhasePreProcess(i){let s=false;do{s=false;for(let n of i){let r=-1;while(-1!==(r=n.indexOf("**",r+1))){let o=r;while(n[o+1]==="**"){o++}if(o>r){n.splice(r+1,o-r)}let a=n[r+1];const h=n[r+2];const l=n[r+3];if(a!=="..")continue;if(!h||h==="."||h===".."||!l||l==="."||l===".."){continue}s=true;n.splice(r,1);const c=n.slice(0);c[r]="**";i.push(c);r--}if(!this.preserveMultipleSlashes){for(let i=1;i<n.length-1;i++){const r=n[i];if(i===1&&r===""&&n[0]==="")continue;if(r==="."||r===""){s=true;n.splice(i,1);i--}}if(n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")){s=true;n.pop()}}let o=0;while(-1!==(o=n.indexOf("..",o+1))){const i=n[o-1];if(i&&i!=="."&&i!==".."&&i!=="**"){s=true;const i=o===1&&n[o+1]==="**";const r=i?["."]:[];n.splice(o-1,2,...r);if(n.length===0)n.push("");o-=2}}}}while(s);return i}secondPhasePreProcess(i){for(let s=0;s<i.length-1;s++){for(let n=s+1;n<i.length;n++){const r=this.partsMatch(i[s],i[n],!this.preserveMultipleSlashes);if(r){i[s]=[];i[n]=r;break}}}return i.filter((i=>i.length))}partsMatch(i,s,n=false){let r=0;let o=0;let a=[];let h="";while(r<i.length&&o<s.length){if(i[r]===s[o]){a.push(h==="b"?s[o]:i[r]);r++;o++}else if(n&&i[r]==="**"&&s[o]===i[r+1]){a.push(i[r]);r++}else if(n&&s[o]==="**"&&i[r]===s[o+1]){a.push(s[o]);o++}else if(i[r]==="*"&&s[o]&&(this.options.dot||!s[o].startsWith("."))&&s[o]!=="**"){if(h==="b")return false;h="a";a.push(i[r]);r++;o++}else if(s[o]==="*"&&i[r]&&(this.options.dot||!i[r].startsWith("."))&&i[r]!=="**"){if(h==="a")return false;h="b";a.push(s[o]);r++;o++}else{return false}}return i.length===s.length&&a}parseNegate(){if(this.nonegate)return;const i=this.pattern;let s=false;let n=0;for(let r=0;r<i.length&&i.charAt(r)==="!";r++){s=!s;n++}if(n)this.pattern=i.slice(n);this.negate=s}matchOne(i,s,n=false){const r=this.options;if(this.isWindows){const n=typeof i[0]==="string"&&/^[a-z]:$/i.test(i[0]);const r=!n&&i[0]===""&&i[1]===""&&i[2]==="?"&&/^[a-z]:$/i.test(i[3]);const o=typeof s[0]==="string"&&/^[a-z]:$/i.test(s[0]);const a=!o&&s[0]===""&&s[1]===""&&s[2]==="?"&&typeof s[3]==="string"&&/^[a-z]:$/i.test(s[3]);const h=r?3:n?0:undefined;const l=a?3:o?0:undefined;if(typeof h==="number"&&typeof l==="number"){const[n,r]=[i[h],s[l]];if(n.toLowerCase()===r.toLowerCase()){s[l]=n;if(l>h){s=s.slice(l)}else if(h>l){i=i.slice(h)}}}}const{optimizationLevel:o=1}=this.options;if(o>=2){i=this.levelTwoFileOptimize(i)}this.debug("matchOne",this,{file:i,pattern:s});this.debug("matchOne",i.length,s.length);for(var a=0,h=0,l=i.length,c=s.length;a<l&&h<c;a++,h++){this.debug("matchOne loop");var u=s[h];var f=i[a];this.debug(s,u,f);if(u===false){return false}if(u===A){this.debug("GLOBSTAR",[s,u,f]);var d=a;var p=h+1;if(p===c){this.debug("** at the end");for(;a<l;a++){if(i[a]==="."||i[a]===".."||!r.dot&&i[a].charAt(0)===".")return false}return true}while(d<l){var g=i[d];this.debug("\nglobstar while",i,d,s,p,g);if(this.matchOne(i.slice(d),s.slice(p),n)){this.debug("globstar found match!",d,l,g);return true}else{if(g==="."||g===".."||!r.dot&&g.charAt(0)==="."){this.debug("dot detected!",i,d,s,p);break}this.debug("globstar swallow a segment, and continue");d++}}if(n){this.debug("\n>>> no match, partial?",i,d,s,p);if(d===l){return true}}return false}let o;if(typeof u==="string"){o=f===u;this.debug("string match",u,f,o)}else{o=u.test(f);this.debug("pattern match",u,f,o)}if(!o)return false}if(a===l&&h===c){return true}else if(a===l){return n}else if(h===c){return a===l-1&&i[a]===""}else{throw new Error("wtf?")}}braceExpand(){return braceExpand(this.pattern,this.options)}parse(i){assertValidPattern(i);const s=this.options;if(i==="**")return A;if(i==="")return"";let n;let r=null;if(n=i.match(E)){r=s.dot?starTestDot:starTest}else if(n=i.match(_)){r=(s.nocase?s.dot?starDotExtTestNocaseDot:starDotExtTestNocase:s.dot?starDotExtTestDot:starDotExtTest)(n[1])}else if(n=i.match(O)){r=(s.nocase?s.dot?qmarksTestNocaseDot:qmarksTestNocase:s.dot?qmarksTestDot:qmarksTest)(n)}else if(n=i.match(x)){r=s.dot?starDotStarTestDot:starDotStarTest}else if(n=i.match(k)){r=dotStarTest}const o=AST.fromGlob(i,this.options).toMMPattern();if(r&&typeof o==="object"){Reflect.defineProperty(o,"test",{value:r})}return o}makeRe(){if(this.regexp||this.regexp===false)return this.regexp;const i=this.set;if(!i.length){this.regexp=false;return this.regexp}const s=this.options;const n=s.noglobstar?L:s.dot?M:j;const r=new Set(s.nocase?["i"]:[]);let o=i.map((i=>{const s=i.map((i=>{if(i instanceof RegExp){for(const s of i.flags.split(""))r.add(s)}return typeof i==="string"?esm_regExpEscape(i):i===A?A:i._src}));s.forEach(((i,r)=>{const o=s[r+1];const a=s[r-1];if(i!==A||a===A){return}if(a===undefined){if(o!==undefined&&o!==A){s[r+1]="(?:\\/|"+n+"\\/)?"+o}else{s[r]=n}}else if(o===undefined){s[r-1]=a+"(?:\\/|"+n+")?"}else if(o!==A){s[r-1]=a+"(?:\\/|\\/"+n+"\\/)"+o;s[r+1]=A}}));return s.filter((i=>i!==A)).join("/")})).join("|");const[a,h]=i.length>1?["(?:",")"]:["",""];o="^"+a+o+h+"$";if(this.negate)o="^(?!"+o+").+$";try{this.regexp=new RegExp(o,[...r].join(""))}catch(i){this.regexp=false}return this.regexp}slashSplit(i){if(this.preserveMultipleSlashes){return i.split("/")}else if(this.isWindows&&/^\/\/[^\/]+/.test(i)){return["",...i.split(/\/+/)]}else{return i.split(/\/+/)}}match(i,s=this.partial){this.debug("match",i,this.pattern);if(this.comment){return false}if(this.empty){return i===""}if(i==="/"&&s){return true}const n=this.options;if(this.isWindows){i=i.split("\\").join("/")}const r=this.slashSplit(i);this.debug(this.pattern,"split",r);const o=this.set;this.debug(this.pattern,"set",o);let a=r[r.length-1];if(!a){for(let i=r.length-2;!a&&i>=0;i--){a=r[i]}}for(let i=0;i<o.length;i++){const h=o[i];let l=r;if(n.matchBase&&h.length===1){l=[a]}const c=this.matchOne(l,h,s);if(c){if(n.flipNegate){return true}return!this.negate}}if(n.flipNegate){return false}return this.negate}static defaults(i){return minimatch.defaults(i).Minimatch}}minimatch.AST=AST;minimatch.Minimatch=Minimatch;minimatch.escape=escape_escape;minimatch.unescape=unescape_unescape;const D=i(import.meta.url)("node:url");const N=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date;const B=new Set;const I=typeof process==="object"&&!!process?process:{};const emitWarning=(i,s,n,r)=>{typeof I.emitWarning==="function"?I.emitWarning(i,s,n,r):console.error(`[${n}] ${s}: ${i}`)};let $=globalThis.AbortController;let U=globalThis.AbortSignal;if(typeof $==="undefined"){U=class AbortSignal{onabort;_onabort=[];reason;aborted=false;addEventListener(i,s){this._onabort.push(s)}};$=class AbortController{constructor(){warnACPolyfill()}signal=new U;abort(i){if(this.signal.aborted)return;this.signal.reason=i;this.signal.aborted=true;for(const s of this.signal._onabort){s(i)}this.signal.onabort?.(i)}};let i=I.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1";const warnACPolyfill=()=>{if(!i)return;i=false;emitWarning("AbortController is not defined. If using lru-cache in "+"node 14, load an AbortController polyfill from the "+"`node-abort-controller` package. A minimal polyfill is "+"provided for use by LRUCache.fetch(), but it should not be "+"relied upon in other contexts (eg, passing it to other APIs that "+"use AbortController/AbortSignal might have undesirable effects). "+"You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",warnACPolyfill)}}const shouldWarn=i=>!B.has(i);const W=Symbol("type");const isPosInt=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i);const getUintArray=i=>!isPosInt(i)?null:i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?ZeroArray:null;class ZeroArray extends Array{constructor(i){super(i);this.fill(0)}}class Stack{heap;length;static#m=false;static create(i){const s=getUintArray(i);if(!s)return[];Stack.#m=true;const n=new Stack(i,s);Stack.#m=false;return n}constructor(i,s){if(!Stack.#m){throw new TypeError("instantiate Stack using Stack.create(n)")}this.heap=new s(i);this.length=0}push(i){this.heap[this.length++]=i}pop(){return this.heap[--this.length]}}class LRUCache{#g;#y;#w;#v;#b;#S;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#_;#x;#k;#E;#O;#C;#P;#T;#A;#R;#L;#M;#j;#F;#D;#N;#B;static unsafeExposeInternals(i){return{starts:i.#j,ttls:i.#F,sizes:i.#M,keyMap:i.#k,keyList:i.#E,valList:i.#O,next:i.#C,prev:i.#P,get head(){return i.#T},get tail(){return i.#A},free:i.#R,isBackgroundFetch:s=>i.#I(s),backgroundFetch:(s,n,r,o)=>i.#$(s,n,r,o),moveToTail:s=>i.#U(s),indexes:s=>i.#W(s),rindexes:s=>i.#z(s),isStale:s=>i.#q(s)}}get max(){return this.#g}get maxSize(){return this.#y}get calculatedSize(){return this.#x}get size(){return this.#_}get fetchMethod(){return this.#b}get memoMethod(){return this.#S}get dispose(){return this.#w}get disposeAfter(){return this.#v}constructor(i){const{max:s=0,ttl:n,ttlResolution:r=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:h,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:f,noUpdateTTL:d,maxSize:p=0,maxEntrySize:g=0,sizeCalculation:y,fetchMethod:w,memoMethod:v,noDeleteOnFetchRejection:b,noDeleteOnStaleGet:S,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:x,ignoreFetchAbort:k}=i;if(s!==0&&!isPosInt(s)){throw new TypeError("max option must be a nonnegative integer")}const E=s?getUintArray(s):Array;if(!E){throw new Error("invalid max value: "+s)}this.#g=s;this.#y=p;this.maxEntrySize=g||this.#y;this.sizeCalculation=y;if(this.sizeCalculation){if(!this.#y&&!this.maxEntrySize){throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize")}if(typeof this.sizeCalculation!=="function"){throw new TypeError("sizeCalculation set to non-function")}}if(v!==undefined&&typeof v!=="function"){throw new TypeError("memoMethod must be a function if defined")}this.#S=v;if(w!==undefined&&typeof w!=="function"){throw new TypeError("fetchMethod must be a function if specified")}this.#b=w;this.#N=!!w;this.#k=new Map;this.#E=new Array(s).fill(undefined);this.#O=new Array(s).fill(undefined);this.#C=new E(s);this.#P=new E(s);this.#T=0;this.#A=0;this.#R=Stack.create(s);this.#_=0;this.#x=0;if(typeof c==="function"){this.#w=c}if(typeof u==="function"){this.#v=u;this.#L=[]}else{this.#v=undefined;this.#L=undefined}this.#D=!!this.#w;this.#B=!!this.#v;this.noDisposeOnSet=!!f;this.noUpdateTTL=!!d;this.noDeleteOnFetchRejection=!!b;this.allowStaleOnFetchRejection=!!_;this.allowStaleOnFetchAbort=!!x;this.ignoreFetchAbort=!!k;if(this.maxEntrySize!==0){if(this.#y!==0){if(!isPosInt(this.#y)){throw new TypeError("maxSize must be a positive integer if specified")}}if(!isPosInt(this.maxEntrySize)){throw new TypeError("maxEntrySize must be a positive integer if specified")}this.#H()}this.allowStale=!!l;this.noDeleteOnStaleGet=!!S;this.updateAgeOnGet=!!a;this.updateAgeOnHas=!!h;this.ttlResolution=isPosInt(r)||r===0?r:1;this.ttlAutopurge=!!o;this.ttl=n||0;if(this.ttl){if(!isPosInt(this.ttl)){throw new TypeError("ttl must be a positive integer if specified")}this.#G()}if(this.#g===0&&this.ttl===0&&this.#y===0){throw new TypeError("At least one of max, maxSize, or ttl is required")}if(!this.ttlAutopurge&&!this.#g&&!this.#y){const i="LRU_CACHE_UNBOUNDED";if(shouldWarn(i)){B.add(i);const s="TTL caching without ttlAutopurge, max, or maxSize can "+"result in unbounded memory consumption.";emitWarning(s,"UnboundedCacheWarning",i,LRUCache)}}}getRemainingTTL(i){return this.#k.has(i)?Infinity:0}#G(){const i=new ZeroArray(this.#g);const s=new ZeroArray(this.#g);this.#F=i;this.#j=s;this.#V=(n,r,o=N.now())=>{s[n]=r!==0?o:0;i[n]=r;if(r!==0&&this.ttlAutopurge){const i=setTimeout((()=>{if(this.#q(n)){this.#K(this.#E[n],"expire")}}),r+1);if(i.unref){i.unref()}}};this.#J=n=>{s[n]=i[n]!==0?N.now():0};this.#Y=(r,o)=>{if(i[o]){const a=i[o];const h=s[o];if(!a||!h)return;r.ttl=a;r.start=h;r.now=n||getNow();const l=r.now-h;r.remainingTTL=a-l}};let n=0;const getNow=()=>{const i=N.now();if(this.ttlResolution>0){n=i;const s=setTimeout((()=>n=0),this.ttlResolution);if(s.unref){s.unref()}}return i};this.getRemainingTTL=r=>{const o=this.#k.get(r);if(o===undefined){return 0}const a=i[o];const h=s[o];if(!a||!h){return Infinity}const l=(n||getNow())-h;return a-l};this.#q=r=>{const o=s[r];const a=i[r];return!!a&&!!o&&(n||getNow())-o>a}}#J=()=>{};#Y=()=>{};#V=()=>{};#q=()=>false;#H(){const i=new ZeroArray(this.#g);this.#x=0;this.#M=i;this.#Q=s=>{this.#x-=i[s];i[s]=0};this.#Z=(i,s,n,r)=>{if(this.#I(s)){return 0}if(!isPosInt(n)){if(r){if(typeof r!=="function"){throw new TypeError("sizeCalculation must be a function")}n=r(s,i);if(!isPosInt(n)){throw new TypeError("sizeCalculation return invalid (expect positive integer)")}}else{throw new TypeError("invalid size value (must be positive integer). "+"When maxSize or maxEntrySize is used, sizeCalculation "+"or size must be set.")}}return n};this.#X=(s,n,r)=>{i[s]=n;if(this.#y){const n=this.#y-i[s];while(this.#x>n){this.#tt(true)}}this.#x+=i[s];if(r){r.entrySize=n;r.totalCalculatedSize=this.#x}}}#Q=i=>{};#X=(i,s,n)=>{};#Z=(i,s,n,r)=>{if(n||r){throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}return 0};*#W({allowStale:i=this.allowStale}={}){if(this.#_){for(let s=this.#A;true;){if(!this.#et(s)){break}if(i||!this.#q(s)){yield s}if(s===this.#T){break}else{s=this.#P[s]}}}}*#z({allowStale:i=this.allowStale}={}){if(this.#_){for(let s=this.#T;true;){if(!this.#et(s)){break}if(i||!this.#q(s)){yield s}if(s===this.#A){break}else{s=this.#C[s]}}}}#et(i){return i!==undefined&&this.#k.get(this.#E[i])===i}*entries(){for(const i of this.#W()){if(this.#O[i]!==undefined&&this.#E[i]!==undefined&&!this.#I(this.#O[i])){yield[this.#E[i],this.#O[i]]}}}*rentries(){for(const i of this.#z()){if(this.#O[i]!==undefined&&this.#E[i]!==undefined&&!this.#I(this.#O[i])){yield[this.#E[i],this.#O[i]]}}}*keys(){for(const i of this.#W()){const s=this.#E[i];if(s!==undefined&&!this.#I(this.#O[i])){yield s}}}*rkeys(){for(const i of this.#z()){const s=this.#E[i];if(s!==undefined&&!this.#I(this.#O[i])){yield s}}}*values(){for(const i of this.#W()){const s=this.#O[i];if(s!==undefined&&!this.#I(this.#O[i])){yield this.#O[i]}}}*rvalues(){for(const i of this.#z()){const s=this.#O[i];if(s!==undefined&&!this.#I(this.#O[i])){yield this.#O[i]}}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(i,s={}){for(const n of this.#W()){const r=this.#O[n];const o=this.#I(r)?r.__staleWhileFetching:r;if(o===undefined)continue;if(i(o,this.#E[n],this)){return this.get(this.#E[n],s)}}}forEach(i,s=this){for(const n of this.#W()){const r=this.#O[n];const o=this.#I(r)?r.__staleWhileFetching:r;if(o===undefined)continue;i.call(s,o,this.#E[n],this)}}rforEach(i,s=this){for(const n of this.#z()){const r=this.#O[n];const o=this.#I(r)?r.__staleWhileFetching:r;if(o===undefined)continue;i.call(s,o,this.#E[n],this)}}purgeStale(){let i=false;for(const s of this.#z({allowStale:true})){if(this.#q(s)){this.#K(this.#E[s],"expire");i=true}}return i}info(i){const s=this.#k.get(i);if(s===undefined)return undefined;const n=this.#O[s];const r=this.#I(n)?n.__staleWhileFetching:n;if(r===undefined)return undefined;const o={value:r};if(this.#F&&this.#j){const i=this.#F[s];const n=this.#j[s];if(i&&n){const s=i-(N.now()-n);o.ttl=s;o.start=Date.now()}}if(this.#M){o.size=this.#M[s]}return o}dump(){const i=[];for(const s of this.#W({allowStale:true})){const n=this.#E[s];const r=this.#O[s];const o=this.#I(r)?r.__staleWhileFetching:r;if(o===undefined||n===undefined)continue;const a={value:o};if(this.#F&&this.#j){a.ttl=this.#F[s];const i=N.now()-this.#j[s];a.start=Math.floor(Date.now()-i)}if(this.#M){a.size=this.#M[s]}i.unshift([n,a])}return i}load(i){this.clear();for(const[s,n]of i){if(n.start){const i=Date.now()-n.start;n.start=N.now()-i}this.set(s,n.value,n)}}set(i,s,n={}){if(s===undefined){this.delete(i);return this}const{ttl:r=this.ttl,start:o,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const u=this.#Z(i,s,n.size||0,h);if(this.maxEntrySize&&u>this.maxEntrySize){if(l){l.set="miss";l.maxEntrySizeExceeded=true}this.#K(i,"set");return this}let f=this.#_===0?undefined:this.#k.get(i);if(f===undefined){f=this.#_===0?this.#A:this.#R.length!==0?this.#R.pop():this.#_===this.#g?this.#tt(false):this.#_;this.#E[f]=i;this.#O[f]=s;this.#k.set(i,f);this.#C[this.#A]=f;this.#P[f]=this.#A;this.#A=f;this.#_++;this.#X(f,u,l);if(l)l.set="add";c=false}else{this.#U(f);const n=this.#O[f];if(s!==n){if(this.#N&&this.#I(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:s}=n;if(s!==undefined&&!a){if(this.#D){this.#w?.(s,i,"set")}if(this.#B){this.#L?.push([s,i,"set"])}}}else if(!a){if(this.#D){this.#w?.(n,i,"set")}if(this.#B){this.#L?.push([n,i,"set"])}}this.#Q(f);this.#X(f,u,l);this.#O[f]=s;if(l){l.set="replace";const i=n&&this.#I(n)?n.__staleWhileFetching:n;if(i!==undefined)l.oldValue=i}}else if(l){l.set="update"}}if(r!==0&&!this.#F){this.#G()}if(this.#F){if(!c){this.#V(f,r,o)}if(l)this.#Y(l,f)}if(!a&&this.#B&&this.#L){const i=this.#L;let s;while(s=i?.shift()){this.#v?.(...s)}}return this}pop(){try{while(this.#_){const i=this.#O[this.#T];this.#tt(true);if(this.#I(i)){if(i.__staleWhileFetching){return i.__staleWhileFetching}}else if(i!==undefined){return i}}}finally{if(this.#B&&this.#L){const i=this.#L;let s;while(s=i?.shift()){this.#v?.(...s)}}}}#tt(i){const s=this.#T;const n=this.#E[s];const r=this.#O[s];if(this.#N&&this.#I(r)){r.__abortController.abort(new Error("evicted"))}else if(this.#D||this.#B){if(this.#D){this.#w?.(r,n,"evict")}if(this.#B){this.#L?.push([r,n,"evict"])}}this.#Q(s);if(i){this.#E[s]=undefined;this.#O[s]=undefined;this.#R.push(s)}if(this.#_===1){this.#T=this.#A=0;this.#R.length=0}else{this.#T=this.#C[s]}this.#k.delete(n);this.#_--;return s}has(i,s={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:r}=s;const o=this.#k.get(i);if(o!==undefined){const i=this.#O[o];if(this.#I(i)&&i.__staleWhileFetching===undefined){return false}if(!this.#q(o)){if(n){this.#J(o)}if(r){r.has="hit";this.#Y(r,o)}return true}else if(r){r.has="stale";this.#Y(r,o)}}else if(r){r.has="miss"}return false}peek(i,s={}){const{allowStale:n=this.allowStale}=s;const r=this.#k.get(i);if(r===undefined||!n&&this.#q(r)){return}const o=this.#O[r];return this.#I(o)?o.__staleWhileFetching:o}#$(i,s,n,r){const o=s===undefined?undefined:this.#O[s];if(this.#I(o)){return o}const a=new $;const{signal:h}=n;h?.addEventListener("abort",(()=>a.abort(h.reason)),{signal:a.signal});const l={signal:a.signal,options:n,context:r};const cb=(r,o=false)=>{const{aborted:h}=a.signal;const u=n.ignoreFetchAbort&&r!==undefined;if(n.status){if(h&&!o){n.status.fetchAborted=true;n.status.fetchError=a.signal.reason;if(u)n.status.fetchAbortIgnored=true}else{n.status.fetchResolved=true}}if(h&&!u&&!o){return fetchFail(a.signal.reason)}const f=c;if(this.#O[s]===c){if(r===undefined){if(f.__staleWhileFetching){this.#O[s]=f.__staleWhileFetching}else{this.#K(i,"fetch")}}else{if(n.status)n.status.fetchUpdated=true;this.set(i,r,l.options)}}return r};const eb=i=>{if(n.status){n.status.fetchRejected=true;n.status.fetchError=i}return fetchFail(i)};const fetchFail=r=>{const{aborted:o}=a.signal;const h=o&&n.allowStaleOnFetchAbort;const l=h||n.allowStaleOnFetchRejection;const u=l||n.noDeleteOnFetchRejection;const f=c;if(this.#O[s]===c){const n=!u||f.__staleWhileFetching===undefined;if(n){this.#K(i,"fetch")}else if(!h){this.#O[s]=f.__staleWhileFetching}}if(l){if(n.status&&f.__staleWhileFetching!==undefined){n.status.returnedStale=true}return f.__staleWhileFetching}else if(f.__returned===f){throw r}};const pcall=(s,r)=>{const h=this.#b?.(i,o,l);if(h&&h instanceof Promise){h.then((i=>s(i===undefined?undefined:i)),r)}a.signal.addEventListener("abort",(()=>{if(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort){s(undefined);if(n.allowStaleOnFetchAbort){s=i=>cb(i,true)}}}))};if(n.status)n.status.fetchDispatched=true;const c=new Promise(pcall).then(cb,eb);const u=Object.assign(c,{__abortController:a,__staleWhileFetching:o,__returned:undefined});if(s===undefined){this.set(i,u,{...l.options,status:undefined});s=this.#k.get(i)}else{this.#O[s]=u}return u}#I(i){if(!this.#N)return false;const s=i;return!!s&&s instanceof Promise&&s.hasOwnProperty("__staleWhileFetching")&&s.__abortController instanceof $}async fetch(i,s={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:w=false,status:v,signal:b}=s;if(!this.#N){if(v)v.fetch="get";return this.get(i,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,status:v})}const S={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,ttl:a,noDisposeOnSet:h,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:g,ignoreFetchAbort:p,status:v,signal:b};let _=this.#k.get(i);if(_===undefined){if(v)v.fetch="miss";const s=this.#$(i,_,S,y);return s.__returned=s}else{const s=this.#O[_];if(this.#I(s)){const i=n&&s.__staleWhileFetching!==undefined;if(v){v.fetch="inflight";if(i)v.returnedStale=true}return i?s.__staleWhileFetching:s.__returned=s}const o=this.#q(_);if(!w&&!o){if(v)v.fetch="hit";this.#U(_);if(r){this.#J(_)}if(v)this.#Y(v,_);return s}const a=this.#$(i,_,S,y);const h=a.__staleWhileFetching!==undefined;const l=h&&n;if(v){v.fetch=o?"stale":"refresh";if(l&&o)v.returnedStale=true}return l?a.__staleWhileFetching:a.__returned=a}}async forceFetch(i,s={}){const n=await this.fetch(i,s);if(n===undefined)throw new Error("fetch() returned undefined");return n}memo(i,s={}){const n=this.#S;if(!n){throw new Error("no memoMethod provided to constructor")}const{context:r,forceRefresh:o,...a}=s;const h=this.get(i,a);if(!o&&h!==undefined)return h;const l=n(i,h,{options:a,context:r});this.set(i,l,a);return l}get(i,s={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:a}=s;const h=this.#k.get(i);if(h!==undefined){const s=this.#O[h];const l=this.#I(s);if(a)this.#Y(a,h);if(this.#q(h)){if(a)a.get="stale";if(!l){if(!o){this.#K(i,"expire")}if(a&&n)a.returnedStale=true;return n?s:undefined}else{if(a&&n&&s.__staleWhileFetching!==undefined){a.returnedStale=true}return n?s.__staleWhileFetching:undefined}}else{if(a)a.get="hit";if(l){return s.__staleWhileFetching}this.#U(h);if(r){this.#J(h)}return s}}else if(a){a.get="miss"}}#it(i,s){this.#P[s]=i;this.#C[i]=s}#U(i){if(i!==this.#A){if(i===this.#T){this.#T=this.#C[i]}else{this.#it(this.#P[i],this.#C[i])}this.#it(this.#A,i);this.#A=i}}delete(i){return this.#K(i,"delete")}#K(i,s){let n=false;if(this.#_!==0){const r=this.#k.get(i);if(r!==undefined){n=true;if(this.#_===1){this.#st(s)}else{this.#Q(r);const n=this.#O[r];if(this.#I(n)){n.__abortController.abort(new Error("deleted"))}else if(this.#D||this.#B){if(this.#D){this.#w?.(n,i,s)}if(this.#B){this.#L?.push([n,i,s])}}this.#k.delete(i);this.#E[r]=undefined;this.#O[r]=undefined;if(r===this.#A){this.#A=this.#P[r]}else if(r===this.#T){this.#T=this.#C[r]}else{const i=this.#P[r];this.#C[i]=this.#C[r];const s=this.#C[r];this.#P[s]=this.#P[r]}this.#_--;this.#R.push(r)}}}if(this.#B&&this.#L?.length){const i=this.#L;let s;while(s=i?.shift()){this.#v?.(...s)}}return n}clear(){return this.#st("delete")}#st(i){for(const s of this.#z({allowStale:true})){const n=this.#O[s];if(this.#I(n)){n.__abortController.abort(new Error("deleted"))}else{const r=this.#E[s];if(this.#D){this.#w?.(n,r,i)}if(this.#B){this.#L?.push([n,r,i])}}}this.#k.clear();this.#O.fill(undefined);this.#E.fill(undefined);if(this.#F&&this.#j){this.#F.fill(0);this.#j.fill(0)}if(this.#M){this.#M.fill(0)}this.#T=0;this.#A=0;this.#R.length=0;this.#x=0;this.#_=0;if(this.#B&&this.#L){const i=this.#L;let s;while(s=i?.shift()){this.#v?.(...s)}}}}const z=i(import.meta.url)("node:path");var q=__nccwpck_require__(896);const H=i(import.meta.url)("node:fs");var G=__nccwpck_require__.t(H,2);var V=__nccwpck_require__.n(H);const K=i(import.meta.url)("node:fs/promises");const J=i(import.meta.url)("node:events");const Y=i(import.meta.url)("node:stream");const Q=i(import.meta.url)("node:string_decoder");const Z=typeof process==="object"&&process?process:{stdout:null,stderr:null};const isStream=i=>!!i&&typeof i==="object"&&(i instanceof Minipass||i instanceof Y||isReadable(i)||isWritable(i));const isReadable=i=>!!i&&typeof i==="object"&&i instanceof J.EventEmitter&&typeof i.pipe==="function"&&i.pipe!==Y.Writable.prototype.pipe;const isWritable=i=>!!i&&typeof i==="object"&&i instanceof J.EventEmitter&&typeof i.write==="function"&&typeof i.end==="function";const X=Symbol("EOF");const tt=Symbol("maybeEmitEnd");const et=Symbol("emittedEnd");const it=Symbol("emittingEnd");const st=Symbol("emittedError");const nt=Symbol("closed");const rt=Symbol("read");const ot=Symbol("flush");const at=Symbol("flushChunk");const ht=Symbol("encoding");const lt=Symbol("decoder");const ct=Symbol("flowing");const ut=Symbol("paused");const ft=Symbol("resume");const dt=Symbol("buffer");const pt=Symbol("pipes");const mt=Symbol("bufferLength");const gt=Symbol("bufferPush");const yt=Symbol("bufferShift");const wt=Symbol("objectMode");const vt=Symbol("destroyed");const bt=Symbol("error");const St=Symbol("emitData");const _t=Symbol("emitEnd");const xt=Symbol("emitEnd2");const kt=Symbol("async");const Et=Symbol("abort");const Ot=Symbol("aborted");const Ct=Symbol("signal");const Pt=Symbol("dataListeners");const Tt=Symbol("discarded");const defer=i=>Promise.resolve().then(i);const nodefer=i=>i();const isEndish=i=>i==="end"||i==="finish"||i==="prefinish";const isArrayBufferLike=i=>i instanceof ArrayBuffer||!!i&&typeof i==="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0;const isArrayBufferView=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i);class Pipe{src;dest;opts;ondrain;constructor(i,s,n){this.src=i;this.dest=s;this.opts=n;this.ondrain=()=>i[ft]();this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(i){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(i,s,n){super(i,s,n);this.proxyErrors=i=>s.emit("error",i);i.on("error",this.proxyErrors)}}const isObjectModeOptions=i=>!!i.objectMode;const isEncodingOptions=i=>!i.objectMode&&!!i.encoding&&i.encoding!=="buffer";class Minipass extends J.EventEmitter{[ct]=false;[ut]=false;[pt]=[];[dt]=[];[wt];[ht];[kt];[lt];[X]=false;[et]=false;[it]=false;[nt]=false;[st]=null;[mt]=0;[vt]=false;[Ct];[Ot]=false;[Pt]=0;[Tt]=false;writable=true;readable=true;constructor(...i){const s=i[0]||{};super();if(s.objectMode&&typeof s.encoding==="string"){throw new TypeError("Encoding and objectMode may not be used together")}if(isObjectModeOptions(s)){this[wt]=true;this[ht]=null}else if(isEncodingOptions(s)){this[ht]=s.encoding;this[wt]=false}else{this[wt]=false;this[ht]=null}this[kt]=!!s.async;this[lt]=this[ht]?new Q.StringDecoder(this[ht]):null;if(s&&s.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[dt]})}if(s&&s.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[pt]})}const{signal:n}=s;if(n){this[Ct]=n;if(n.aborted){this[Et]()}else{n.addEventListener("abort",(()=>this[Et]()))}}}get bufferLength(){return this[mt]}get encoding(){return this[ht]}set encoding(i){throw new Error("Encoding must be set at instantiation time")}setEncoding(i){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[wt]}set objectMode(i){throw new Error("objectMode must be set at instantiation time")}get["async"](){return this[kt]}set["async"](i){this[kt]=this[kt]||!!i}[Et](){this[Ot]=true;this.emit("abort",this[Ct]?.reason);this.destroy(this[Ct]?.reason)}get aborted(){return this[Ot]}set aborted(i){}write(i,s,n){if(this[Ot])return false;if(this[X])throw new Error("write after end");if(this[vt]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof s==="function"){n=s;s="utf8"}if(!s)s="utf8";const r=this[kt]?defer:nodefer;if(!this[wt]&&!Buffer.isBuffer(i)){if(isArrayBufferView(i)){i=Buffer.from(i.buffer,i.byteOffset,i.byteLength)}else if(isArrayBufferLike(i)){i=Buffer.from(i)}else if(typeof i!=="string"){throw new Error("Non-contiguous data written to non-objectMode stream")}}if(this[wt]){if(this[ct]&&this[mt]!==0)this[ot](true);if(this[ct])this.emit("data",i);else this[gt](i);if(this[mt]!==0)this.emit("readable");if(n)r(n);return this[ct]}if(!i.length){if(this[mt]!==0)this.emit("readable");if(n)r(n);return this[ct]}if(typeof i==="string"&&!(s===this[ht]&&!this[lt]?.lastNeed)){i=Buffer.from(i,s)}if(Buffer.isBuffer(i)&&this[ht]){i=this[lt].write(i)}if(this[ct]&&this[mt]!==0)this[ot](true);if(this[ct])this.emit("data",i);else this[gt](i);if(this[mt]!==0)this.emit("readable");if(n)r(n);return this[ct]}read(i){if(this[vt])return null;this[Tt]=false;if(this[mt]===0||i===0||i&&i>this[mt]){this[tt]();return null}if(this[wt])i=null;if(this[dt].length>1&&!this[wt]){this[dt]=[this[ht]?this[dt].join(""):Buffer.concat(this[dt],this[mt])]}const s=this[rt](i||null,this[dt][0]);this[tt]();return s}[rt](i,s){if(this[wt])this[yt]();else{const n=s;if(i===n.length||i===null)this[yt]();else if(typeof n==="string"){this[dt][0]=n.slice(i);s=n.slice(0,i);this[mt]-=i}else{this[dt][0]=n.subarray(i);s=n.subarray(0,i);this[mt]-=i}}this.emit("data",s);if(!this[dt].length&&!this[X])this.emit("drain");return s}end(i,s,n){if(typeof i==="function"){n=i;i=undefined}if(typeof s==="function"){n=s;s="utf8"}if(i!==undefined)this.write(i,s);if(n)this.once("end",n);this[X]=true;this.writable=false;if(this[ct]||!this[ut])this[tt]();return this}[ft](){if(this[vt])return;if(!this[Pt]&&!this[pt].length){this[Tt]=true}this[ut]=false;this[ct]=true;this.emit("resume");if(this[dt].length)this[ot]();else if(this[X])this[tt]();else this.emit("drain")}resume(){return this[ft]()}pause(){this[ct]=false;this[ut]=true;this[Tt]=false}get destroyed(){return this[vt]}get flowing(){return this[ct]}get paused(){return this[ut]}[gt](i){if(this[wt])this[mt]+=1;else this[mt]+=i.length;this[dt].push(i)}[yt](){if(this[wt])this[mt]-=1;else this[mt]-=this[dt][0].length;return this[dt].shift()}[ot](i=false){do{}while(this[at](this[yt]())&&this[dt].length);if(!i&&!this[dt].length&&!this[X])this.emit("drain")}[at](i){this.emit("data",i);return this[ct]}pipe(i,s){if(this[vt])return i;this[Tt]=false;const n=this[et];s=s||{};if(i===Z.stdout||i===Z.stderr)s.end=false;else s.end=s.end!==false;s.proxyErrors=!!s.proxyErrors;if(n){if(s.end)i.end()}else{this[pt].push(!s.proxyErrors?new Pipe(this,i,s):new PipeProxyErrors(this,i,s));if(this[kt])defer((()=>this[ft]()));else this[ft]()}return i}unpipe(i){const s=this[pt].find((s=>s.dest===i));if(s){if(this[pt].length===1){if(this[ct]&&this[Pt]===0){this[ct]=false}this[pt]=[]}else this[pt].splice(this[pt].indexOf(s),1);s.unpipe()}}addListener(i,s){return this.on(i,s)}on(i,s){const n=super.on(i,s);if(i==="data"){this[Tt]=false;this[Pt]++;if(!this[pt].length&&!this[ct]){this[ft]()}}else if(i==="readable"&&this[mt]!==0){super.emit("readable")}else if(isEndish(i)&&this[et]){super.emit(i);this.removeAllListeners(i)}else if(i==="error"&&this[st]){const i=s;if(this[kt])defer((()=>i.call(this,this[st])));else i.call(this,this[st])}return n}removeListener(i,s){return this.off(i,s)}off(i,s){const n=super.off(i,s);if(i==="data"){this[Pt]=this.listeners("data").length;if(this[Pt]===0&&!this[Tt]&&!this[pt].length){this[ct]=false}}return n}removeAllListeners(i){const s=super.removeAllListeners(i);if(i==="data"||i===undefined){this[Pt]=0;if(!this[Tt]&&!this[pt].length){this[ct]=false}}return s}get emittedEnd(){return this[et]}[tt](){if(!this[it]&&!this[et]&&!this[vt]&&this[dt].length===0&&this[X]){this[it]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[nt])this.emit("close");this[it]=false}}emit(i,...s){const n=s[0];if(i!=="error"&&i!=="close"&&i!==vt&&this[vt]){return false}else if(i==="data"){return!this[wt]&&!n?false:this[kt]?(defer((()=>this[St](n))),true):this[St](n)}else if(i==="end"){return this[_t]()}else if(i==="close"){this[nt]=true;if(!this[et]&&!this[vt])return false;const i=super.emit("close");this.removeAllListeners("close");return i}else if(i==="error"){this[st]=n;super.emit(bt,n);const i=!this[Ct]||this.listeners("error").length?super.emit("error",n):false;this[tt]();return i}else if(i==="resume"){const i=super.emit("resume");this[tt]();return i}else if(i==="finish"||i==="prefinish"){const s=super.emit(i);this.removeAllListeners(i);return s}const r=super.emit(i,...s);this[tt]();return r}[St](i){for(const s of this[pt]){if(s.dest.write(i)===false)this.pause()}const s=this[Tt]?false:super.emit("data",i);this[tt]();return s}[_t](){if(this[et])return false;this[et]=true;this.readable=false;return this[kt]?(defer((()=>this[xt]())),true):this[xt]()}[xt](){if(this[lt]){const i=this[lt].end();if(i){for(const s of this[pt]){s.dest.write(i)}if(!this[Tt])super.emit("data",i)}}for(const i of this[pt]){i.end()}const i=super.emit("end");this.removeAllListeners("end");return i}async collect(){const i=Object.assign([],{dataLength:0});if(!this[wt])i.dataLength=0;const s=this.promise();this.on("data",(s=>{i.push(s);if(!this[wt])i.dataLength+=s.length}));await s;return i}async concat(){if(this[wt]){throw new Error("cannot concat in objectMode")}const i=await this.collect();return this[ht]?i.join(""):Buffer.concat(i,i.dataLength)}async promise(){return new Promise(((i,s)=>{this.on(vt,(()=>s(new Error("stream destroyed"))));this.on("error",(i=>s(i)));this.on("end",(()=>i()))}))}[Symbol.asyncIterator](){this[Tt]=false;let i=false;const stop=async()=>{this.pause();i=true;return{value:undefined,done:true}};const next=()=>{if(i)return stop();const s=this.read();if(s!==null)return Promise.resolve({done:false,value:s});if(this[X])return stop();let n;let r;const onerr=i=>{this.off("data",ondata);this.off("end",onend);this.off(vt,ondestroy);stop();r(i)};const ondata=i=>{this.off("error",onerr);this.off("end",onend);this.off(vt,ondestroy);this.pause();n({value:i,done:!!this[X]})};const onend=()=>{this.off("error",onerr);this.off("data",ondata);this.off(vt,ondestroy);stop();n({done:true,value:undefined})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((i,s)=>{r=s;n=i;this.once(vt,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Tt]=false;let i=false;const stop=()=>{this.pause();this.off(bt,stop);this.off(vt,stop);this.off("end",stop);i=true;return{done:true,value:undefined}};const next=()=>{if(i)return stop();const s=this.read();return s===null?stop():{done:false,value:s}};this.once("end",stop);this.once(bt,stop);this.once(vt,stop);return{next:next,throw:stop,return:stop,[Symbol.iterator](){return this}}}destroy(i){if(this[vt]){if(i)this.emit("error",i);else this.emit(vt);return this}this[vt]=true;this[Tt]=true;this[dt].length=0;this[mt]=0;const s=this;if(typeof s.close==="function"&&!this[nt])s.close();if(i)this.emit("error",i);else this.emit(vt);return this}static get isStream(){return isStream}}const At=q.realpathSync.native;const Rt={lstatSync:q.lstatSync,readdir:q.readdir,readdirSync:q.readdirSync,readlinkSync:q.readlinkSync,realpathSync:At,promises:{lstat:K.lstat,readdir:K.readdir,readlink:K.readlink,realpath:K.realpath}};const fsFromOption=i=>!i||i===Rt||i===G?Rt:{...Rt,...i,promises:{...Rt.promises,...i.promises||{}}};const Lt=/^\\\\\?\\([a-z]:)\\?$/i;const uncToDrive=i=>i.replace(/\//g,"\\").replace(Lt,"$1\\");const Mt=/[\\\/]/;const jt=0;const Ft=1;const Dt=2;const Nt=4;const Bt=6;const It=8;const $t=10;const Ut=12;const Wt=15;const zt=~Wt;const qt=16;const Ht=32;const Gt=64;const Vt=128;const Kt=256;const Jt=512;const Yt=Gt|Vt|Jt;const Qt=1023;const entToType=i=>i.isFile()?It:i.isDirectory()?Nt:i.isSymbolicLink()?$t:i.isCharacterDevice()?Dt:i.isBlockDevice()?Bt:i.isSocket()?Ut:i.isFIFO()?Ft:jt;const Zt=new Map;const normalize=i=>{const s=Zt.get(i);if(s)return s;const n=i.normalize("NFKD");Zt.set(i,n);return n};const Xt=new Map;const normalizeNocase=i=>{const s=Xt.get(i);if(s)return s;const n=normalize(i.toLowerCase());Xt.set(i,n);return n};class ResolveCache extends LRUCache{constructor(){super({max:256})}}class ChildrenCache extends LRUCache{constructor(i=16*1024){super({maxSize:i,sizeCalculation:i=>i.length+1})}}const te=Symbol("PathScurry setAsCwd");class PathBase{name;root;roots;parent;nocase;isCWD=false;#nt;#rt;get dev(){return this.#rt}#ot;get mode(){return this.#ot}#at;get nlink(){return this.#at}#ht;get uid(){return this.#ht}#lt;get gid(){return this.#lt}#ct;get rdev(){return this.#ct}#ut;get blksize(){return this.#ut}#ft;get ino(){return this.#ft}#_;get size(){return this.#_}#dt;get blocks(){return this.#dt}#pt;get atimeMs(){return this.#pt}#mt;get mtimeMs(){return this.#mt}#gt;get ctimeMs(){return this.#gt}#yt;get birthtimeMs(){return this.#yt}#wt;get atime(){return this.#wt}#vt;get mtime(){return this.#vt}#bt;get ctime(){return this.#bt}#St;get birthtime(){return this.#St}#_t;#xt;#kt;#Et;#Ot;#Ct;#Pt;#Tt;#At;#Rt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(i,s=jt,n,r,o,a,h){this.name=i;this.#_t=o?normalizeNocase(i):normalize(i);this.#Pt=s&Qt;this.nocase=o;this.roots=r;this.root=n||this;this.#Tt=a;this.#kt=h.fullpath;this.#Ot=h.relative;this.#Ct=h.relativePosix;this.parent=h.parent;if(this.parent){this.#nt=this.parent.#nt}else{this.#nt=fsFromOption(h.fs)}}depth(){if(this.#xt!==undefined)return this.#xt;if(!this.parent)return this.#xt=0;return this.#xt=this.parent.depth()+1}childrenCache(){return this.#Tt}resolve(i){if(!i){return this}const s=this.getRootString(i);const n=i.substring(s.length);const r=n.split(this.splitSep);const o=s?this.getRoot(s).#Lt(r):this.#Lt(r);return o}#Lt(i){let s=this;for(const n of i){s=s.child(n)}return s}children(){const i=this.#Tt.get(this);if(i){return i}const s=Object.assign([],{provisional:0});this.#Tt.set(this,s);this.#Pt&=~qt;return s}child(i,s){if(i===""||i==="."){return this}if(i===".."){return this.parent||this}const n=this.children();const r=this.nocase?normalizeNocase(i):normalize(i);for(const i of n){if(i.#_t===r){return i}}const o=this.parent?this.sep:"";const a=this.#kt?this.#kt+o+i:undefined;const h=this.newChild(i,jt,{...s,parent:this,fullpath:a});if(!this.canReaddir()){h.#Pt|=Vt}n.push(h);return h}relative(){if(this.isCWD)return"";if(this.#Ot!==undefined){return this.#Ot}const i=this.name;const s=this.parent;if(!s){return this.#Ot=this.name}const n=s.relative();return n+(!n||!s.parent?"":this.sep)+i}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#Ct!==undefined)return this.#Ct;const i=this.name;const s=this.parent;if(!s){return this.#Ct=this.fullpathPosix()}const n=s.relativePosix();return n+(!n||!s.parent?"":"/")+i}fullpath(){if(this.#kt!==undefined){return this.#kt}const i=this.name;const s=this.parent;if(!s){return this.#kt=this.name}const n=s.fullpath();const r=n+(!s.parent?"":this.sep)+i;return this.#kt=r}fullpathPosix(){if(this.#Et!==undefined)return this.#Et;if(this.sep==="/")return this.#Et=this.fullpath();if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");if(/^[a-z]:\//i.test(i)){return this.#Et=`//?/${i}`}else{return this.#Et=i}}const i=this.parent;const s=i.fullpathPosix();const n=s+(!s||!i.parent?"":"/")+this.name;return this.#Et=n}isUnknown(){return(this.#Pt&Wt)===jt}isType(i){return this[`is${i}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#Pt&Wt)===It}isDirectory(){return(this.#Pt&Wt)===Nt}isCharacterDevice(){return(this.#Pt&Wt)===Dt}isBlockDevice(){return(this.#Pt&Wt)===Bt}isFIFO(){return(this.#Pt&Wt)===Ft}isSocket(){return(this.#Pt&Wt)===Ut}isSymbolicLink(){return(this.#Pt&$t)===$t}lstatCached(){return this.#Pt&Ht?this:undefined}readlinkCached(){return this.#At}realpathCached(){return this.#Rt}readdirCached(){const i=this.children();return i.slice(0,i.provisional)}canReadlink(){if(this.#At)return true;if(!this.parent)return false;const i=this.#Pt&Wt;return!(i!==jt&&i!==$t||this.#Pt&Kt||this.#Pt&Vt)}calledReaddir(){return!!(this.#Pt&qt)}isENOENT(){return!!(this.#Pt&Vt)}isNamed(i){return!this.nocase?this.#_t===normalize(i):this.#_t===normalizeNocase(i)}async readlink(){const i=this.#At;if(i){return i}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const i=await this.#nt.promises.readlink(this.fullpath());const s=(await this.parent.realpath())?.resolve(i);if(s){return this.#At=s}}catch(i){this.#Mt(i.code);return undefined}}readlinkSync(){const i=this.#At;if(i){return i}if(!this.canReadlink()){return undefined}if(!this.parent){return undefined}try{const i=this.#nt.readlinkSync(this.fullpath());const s=this.parent.realpathSync()?.resolve(i);if(s){return this.#At=s}}catch(i){this.#Mt(i.code);return undefined}}#jt(i){this.#Pt|=qt;for(let s=i.provisional;s<i.length;s++){const n=i[s];if(n)n.#Ft()}}#Ft(){if(this.#Pt&Vt)return;this.#Pt=(this.#Pt|Vt)&zt;this.#Dt()}#Dt(){const i=this.children();i.provisional=0;for(const s of i){s.#Ft()}}#Nt(){this.#Pt|=Jt;this.#Bt()}#Bt(){if(this.#Pt&Gt)return;let i=this.#Pt;if((i&Wt)===Nt)i&=zt;this.#Pt=i|Gt;this.#Dt()}#It(i=""){if(i==="ENOTDIR"||i==="EPERM"){this.#Bt()}else if(i==="ENOENT"){this.#Ft()}else{this.children().provisional=0}}#$t(i=""){if(i==="ENOTDIR"){const i=this.parent;i.#Bt()}else if(i==="ENOENT"){this.#Ft()}}#Mt(i=""){let s=this.#Pt;s|=Kt;if(i==="ENOENT")s|=Vt;if(i==="EINVAL"||i==="UNKNOWN"){s&=zt}this.#Pt=s;if(i==="ENOTDIR"&&this.parent){this.parent.#Bt()}}#Ut(i,s){return this.#Wt(i,s)||this.#zt(i,s)}#zt(i,s){const n=entToType(i);const r=this.newChild(i.name,n,{parent:this});const o=r.#Pt&Wt;if(o!==Nt&&o!==$t&&o!==jt){r.#Pt|=Gt}s.unshift(r);s.provisional++;return r}#Wt(i,s){for(let n=s.provisional;n<s.length;n++){const r=s[n];const o=this.nocase?normalizeNocase(i.name):normalize(i.name);if(o!==r.#_t){continue}return this.#qt(i,r,n,s)}}#qt(i,s,n,r){const o=s.name;s.#Pt=s.#Pt&zt|entToType(i);if(o!==i.name)s.name=i.name;if(n!==r.provisional){if(n===r.length-1)r.pop();else r.splice(n,1);r.unshift(s)}r.provisional++;return s}async lstat(){if((this.#Pt&Vt)===0){try{this.#Ht(await this.#nt.promises.lstat(this.fullpath()));return this}catch(i){this.#$t(i.code)}}}lstatSync(){if((this.#Pt&Vt)===0){try{this.#Ht(this.#nt.lstatSync(this.fullpath()));return this}catch(i){this.#$t(i.code)}}}#Ht(i){const{atime:s,atimeMs:n,birthtime:r,birthtimeMs:o,blksize:a,blocks:h,ctime:l,ctimeMs:c,dev:u,gid:f,ino:d,mode:p,mtime:g,mtimeMs:y,nlink:w,rdev:v,size:b,uid:S}=i;this.#wt=s;this.#pt=n;this.#St=r;this.#yt=o;this.#ut=a;this.#dt=h;this.#bt=l;this.#gt=c;this.#rt=u;this.#lt=f;this.#ft=d;this.#ot=p;this.#vt=g;this.#mt=y;this.#at=w;this.#ct=v;this.#_=b;this.#ht=S;const _=entToType(i);this.#Pt=this.#Pt&zt|_|Ht;if(_!==jt&&_!==Nt&&_!==$t){this.#Pt|=Gt}}#Gt=[];#Vt=false;#Kt(i){this.#Vt=false;const s=this.#Gt.slice();this.#Gt.length=0;s.forEach((s=>s(null,i)))}readdirCB(i,s=false){if(!this.canReaddir()){if(s)i(null,[]);else queueMicrotask((()=>i(null,[])));return}const n=this.children();if(this.calledReaddir()){const r=n.slice(0,n.provisional);if(s)i(null,r);else queueMicrotask((()=>i(null,r)));return}this.#Gt.push(i);if(this.#Vt){return}this.#Vt=true;const r=this.fullpath();this.#nt.readdir(r,{withFileTypes:true},((i,s)=>{if(i){this.#It(i.code);n.provisional=0}else{for(const i of s){this.#Ut(i,n)}this.#jt(n)}this.#Kt(n.slice(0,n.provisional));return}))}#Jt;async readdir(){if(!this.canReaddir()){return[]}const i=this.children();if(this.calledReaddir()){return i.slice(0,i.provisional)}const s=this.fullpath();if(this.#Jt){await this.#Jt}else{let resolve=()=>{};this.#Jt=new Promise((i=>resolve=i));try{for(const n of await this.#nt.promises.readdir(s,{withFileTypes:true})){this.#Ut(n,i)}this.#jt(i)}catch(s){this.#It(s.code);i.provisional=0}this.#Jt=undefined;resolve()}return i.slice(0,i.provisional)}readdirSync(){if(!this.canReaddir()){return[]}const i=this.children();if(this.calledReaddir()){return i.slice(0,i.provisional)}const s=this.fullpath();try{for(const n of this.#nt.readdirSync(s,{withFileTypes:true})){this.#Ut(n,i)}this.#jt(i)}catch(s){this.#It(s.code);i.provisional=0}return i.slice(0,i.provisional)}canReaddir(){if(this.#Pt&Yt)return false;const i=Wt&this.#Pt;if(!(i===jt||i===Nt||i===$t)){return false}return true}shouldWalk(i,s){return(this.#Pt&Nt)===Nt&&!(this.#Pt&Yt)&&!i.has(this)&&(!s||s(this))}async realpath(){if(this.#Rt)return this.#Rt;if((Jt|Kt|Vt)&this.#Pt)return undefined;try{const i=await this.#nt.promises.realpath(this.fullpath());return this.#Rt=this.resolve(i)}catch(i){this.#Nt()}}realpathSync(){if(this.#Rt)return this.#Rt;if((Jt|Kt|Vt)&this.#Pt)return undefined;try{const i=this.#nt.realpathSync(this.fullpath());return this.#Rt=this.resolve(i)}catch(i){this.#Nt()}}[te](i){if(i===this)return;i.isCWD=false;this.isCWD=true;const s=new Set([]);let n=[];let r=this;while(r&&r.parent){s.add(r);r.#Ot=n.join(this.sep);r.#Ct=n.join("/");r=r.parent;n.push("..")}r=i;while(r&&r.parent&&!s.has(r)){r.#Ot=undefined;r.#Ct=undefined;r=r.parent}}}class PathWin32 extends PathBase{sep="\\";splitSep=Mt;constructor(i,s=jt,n,r,o,a,h){super(i,s,n,r,o,a,h)}newChild(i,s=jt,n={}){return new PathWin32(i,s,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(i){return z.win32.parse(i).root}getRoot(i){i=uncToDrive(i.toUpperCase());if(i===this.root.name){return this.root}for(const[s,n]of Object.entries(this.roots)){if(this.sameRoot(i,s)){return this.roots[i]=n}}return this.roots[i]=new PathScurryWin32(i,this).root}sameRoot(i,s=this.root.name){i=i.toUpperCase().replace(/\//g,"\\").replace(Lt,"$1\\");return i===s}}class PathPosix extends PathBase{splitSep="/";sep="/";constructor(i,s=jt,n,r,o,a,h){super(i,s,n,r,o,a,h)}getRootString(i){return i.startsWith("/")?"/":""}getRoot(i){return this.root}newChild(i,s=jt,n={}){return new PathPosix(i,s,this.root,this.roots,this.nocase,this.childrenCache(),n)}}class PathScurryBase{root;rootPath;roots;cwd;#Yt;#Qt;#Tt;nocase;#nt;constructor(i=process.cwd(),s,n,{nocase:r,childrenCacheSize:o=16*1024,fs:a=Rt}={}){this.#nt=fsFromOption(a);if(i instanceof URL||i.startsWith("file://")){i=(0,D.fileURLToPath)(i)}const h=s.resolve(i);this.roots=Object.create(null);this.rootPath=this.parseRootPath(h);this.#Yt=new ResolveCache;this.#Qt=new ResolveCache;this.#Tt=new ChildrenCache(o);const l=h.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]){l.pop()}if(r===undefined){throw new TypeError("must provide nocase setting to PathScurryBase ctor")}this.nocase=r;this.root=this.newRoot(this.#nt);this.roots[this.rootPath]=this.root;let c=this.root;let u=l.length-1;const f=s.sep;let d=this.rootPath;let p=false;for(const i of l){const s=u--;c=c.child(i,{relative:new Array(s).fill("..").join(f),relativePosix:new Array(s).fill("..").join("/"),fullpath:d+=(p?"":f)+i});p=true}this.cwd=c}depth(i=this.cwd){if(typeof i==="string"){i=this.cwd.resolve(i)}return i.depth()}childrenCache(){return this.#Tt}resolve(...i){let s="";for(let n=i.length-1;n>=0;n--){const r=i[n];if(!r||r===".")continue;s=s?`${r}/${s}`:r;if(this.isAbsolute(r)){break}}const n=this.#Yt.get(s);if(n!==undefined){return n}const r=this.cwd.resolve(s).fullpath();this.#Yt.set(s,r);return r}resolvePosix(...i){let s="";for(let n=i.length-1;n>=0;n--){const r=i[n];if(!r||r===".")continue;s=s?`${r}/${s}`:r;if(this.isAbsolute(r)){break}}const n=this.#Qt.get(s);if(n!==undefined){return n}const r=this.cwd.resolve(s).fullpathPosix();this.#Qt.set(s,r);return r}relative(i=this.cwd){if(typeof i==="string"){i=this.cwd.resolve(i)}return i.relative()}relativePosix(i=this.cwd){if(typeof i==="string"){i=this.cwd.resolve(i)}return i.relativePosix()}basename(i=this.cwd){if(typeof i==="string"){i=this.cwd.resolve(i)}return i.name}dirname(i=this.cwd){if(typeof i==="string"){i=this.cwd.resolve(i)}return(i.parent||i).fullpath()}async readdir(i=this.cwd,s={withFileTypes:true}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}const{withFileTypes:n}=s;if(!i.canReaddir()){return[]}else{const s=await i.readdir();return n?s:s.map((i=>i.name))}}readdirSync(i=this.cwd,s={withFileTypes:true}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}const{withFileTypes:n=true}=s;if(!i.canReaddir()){return[]}else if(n){return i.readdirSync()}else{return i.readdirSync().map((i=>i.name))}}async lstat(i=this.cwd){if(typeof i==="string"){i=this.cwd.resolve(i)}return i.lstat()}lstatSync(i=this.cwd){if(typeof i==="string"){i=this.cwd.resolve(i)}return i.lstatSync()}async readlink(i=this.cwd,{withFileTypes:s}={withFileTypes:false}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i.withFileTypes;i=this.cwd}const n=await i.readlink();return s?n:n?.fullpath()}readlinkSync(i=this.cwd,{withFileTypes:s}={withFileTypes:false}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i.withFileTypes;i=this.cwd}const n=i.readlinkSync();return s?n:n?.fullpath()}async realpath(i=this.cwd,{withFileTypes:s}={withFileTypes:false}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i.withFileTypes;i=this.cwd}const n=await i.realpath();return s?n:n?.fullpath()}realpathSync(i=this.cwd,{withFileTypes:s}={withFileTypes:false}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i.withFileTypes;i=this.cwd}const n=i.realpathSync();return s?n:n?.fullpath()}async walk(i=this.cwd,s={}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}const{withFileTypes:n=true,follow:r=false,filter:o,walkFilter:a}=s;const h=[];if(!o||o(i)){h.push(n?i:i.fullpath())}const l=new Set;const walk=(i,s)=>{l.add(i);i.readdirCB(((i,c)=>{if(i){return s(i)}let u=c.length;if(!u)return s();const next=()=>{if(--u===0){s()}};for(const i of c){if(!o||o(i)){h.push(n?i:i.fullpath())}if(r&&i.isSymbolicLink()){i.realpath().then((i=>i?.isUnknown()?i.lstat():i)).then((i=>i?.shouldWalk(l,a)?walk(i,next):next()))}else{if(i.shouldWalk(l,a)){walk(i,next)}else{next()}}}}),true)};const c=i;return new Promise(((i,s)=>{walk(c,(n=>{if(n)return s(n);i(h)}))}))}walkSync(i=this.cwd,s={}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}const{withFileTypes:n=true,follow:r=false,filter:o,walkFilter:a}=s;const h=[];if(!o||o(i)){h.push(n?i:i.fullpath())}const l=new Set([i]);for(const i of l){const s=i.readdirSync();for(const i of s){if(!o||o(i)){h.push(n?i:i.fullpath())}let s=i;if(i.isSymbolicLink()){if(!(r&&(s=i.realpathSync())))continue;if(s.isUnknown())s.lstatSync()}if(s.shouldWalk(l,a)){l.add(s)}}}return h}[Symbol.asyncIterator](){return this.iterate()}iterate(i=this.cwd,s={}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}return this.stream(i,s)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(i=this.cwd,s={}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}const{withFileTypes:n=true,follow:r=false,filter:o,walkFilter:a}=s;if(!o||o(i)){yield n?i:i.fullpath()}const h=new Set([i]);for(const i of h){const s=i.readdirSync();for(const i of s){if(!o||o(i)){yield n?i:i.fullpath()}let s=i;if(i.isSymbolicLink()){if(!(r&&(s=i.realpathSync())))continue;if(s.isUnknown())s.lstatSync()}if(s.shouldWalk(h,a)){h.add(s)}}}}stream(i=this.cwd,s={}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}const{withFileTypes:n=true,follow:r=false,filter:o,walkFilter:a}=s;const h=new Minipass({objectMode:true});if(!o||o(i)){h.write(n?i:i.fullpath())}const l=new Set;const c=[i];let u=0;const process=()=>{let i=false;while(!i){const s=c.shift();if(!s){if(u===0)h.end();return}u++;l.add(s);const onReaddir=(s,d,p=false)=>{if(s)return h.emit("error",s);if(r&&!p){const i=[];for(const s of d){if(s.isSymbolicLink()){i.push(s.realpath().then((i=>i?.isUnknown()?i.lstat():i)))}}if(i.length){Promise.all(i).then((()=>onReaddir(null,d,true)));return}}for(const s of d){if(s&&(!o||o(s))){if(!h.write(n?s:s.fullpath())){i=true}}}u--;for(const i of d){const s=i.realpathCached()||i;if(s.shouldWalk(l,a)){c.push(s)}}if(i&&!h.flowing){h.once("drain",process)}else if(!f){process()}};let f=true;s.readdirCB(onReaddir,true);f=false}};process();return h}streamSync(i=this.cwd,s={}){if(typeof i==="string"){i=this.cwd.resolve(i)}else if(!(i instanceof PathBase)){s=i;i=this.cwd}const{withFileTypes:n=true,follow:r=false,filter:o,walkFilter:a}=s;const h=new Minipass({objectMode:true});const l=new Set;if(!o||o(i)){h.write(n?i:i.fullpath())}const c=[i];let u=0;const process=()=>{let i=false;while(!i){const s=c.shift();if(!s){if(u===0)h.end();return}u++;l.add(s);const f=s.readdirSync();for(const s of f){if(!o||o(s)){if(!h.write(n?s:s.fullpath())){i=true}}}u--;for(const i of f){let s=i;if(i.isSymbolicLink()){if(!(r&&(s=i.realpathSync())))continue;if(s.isUnknown())s.lstatSync()}if(s.shouldWalk(l,a)){c.push(s)}}}if(i&&!h.flowing)h.once("drain",process)};process();return h}chdir(i=this.cwd){const s=this.cwd;this.cwd=typeof i==="string"?this.cwd.resolve(i):i;this.cwd[te](s)}}class PathScurryWin32 extends PathScurryBase{sep="\\";constructor(i=process.cwd(),s={}){const{nocase:n=true}=s;super(i,z.win32,"\\",{...s,nocase:n});this.nocase=n;for(let i=this.cwd;i;i=i.parent){i.nocase=this.nocase}}parseRootPath(i){return z.win32.parse(i).root.toUpperCase()}newRoot(i){return new PathWin32(this.rootPath,Nt,undefined,this.roots,this.nocase,this.childrenCache(),{fs:i})}isAbsolute(i){return i.startsWith("/")||i.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(i)}}class PathScurryPosix extends PathScurryBase{sep="/";constructor(i=process.cwd(),s={}){const{nocase:n=false}=s;super(i,z.posix,"/",{...s,nocase:n});this.nocase=n}parseRootPath(i){return"/"}newRoot(i){return new PathPosix(this.rootPath,Nt,undefined,this.roots,this.nocase,this.childrenCache(),{fs:i})}isAbsolute(i){return i.startsWith("/")}}class PathScurryDarwin extends PathScurryPosix{constructor(i=process.cwd(),s={}){const{nocase:n=true}=s;super(i,{...s,nocase:n})}}const ee=process.platform==="win32"?PathWin32:PathPosix;const ie=process.platform==="win32"?PathScurryWin32:process.platform==="darwin"?PathScurryDarwin:PathScurryPosix;const isPatternList=i=>i.length>=1;const isGlobList=i=>i.length>=1;class Pattern{#Zt;#Xt;#te;length;#ee;#ie;#se;#ne;#re;#oe;#ae=true;constructor(i,s,n,r){if(!isPatternList(i)){throw new TypeError("empty pattern list")}if(!isGlobList(s)){throw new TypeError("empty glob list")}if(s.length!==i.length){throw new TypeError("mismatched pattern list and glob list lengths")}this.length=i.length;if(n<0||n>=this.length){throw new TypeError("index out of range")}this.#Zt=i;this.#Xt=s;this.#te=n;this.#ee=r;if(this.#te===0){if(this.isUNC()){const[i,s,n,r,...o]=this.#Zt;const[a,h,l,c,...u]=this.#Xt;if(o[0]===""){o.shift();u.shift()}const f=[i,s,n,r,""].join("/");const d=[a,h,l,c,""].join("/");this.#Zt=[f,...o];this.#Xt=[d,...u];this.length=this.#Zt.length}else if(this.isDrive()||this.isAbsolute()){const[i,...s]=this.#Zt;const[n,...r]=this.#Xt;if(s[0]===""){s.shift();r.shift()}const o=i+"/";const a=n+"/";this.#Zt=[o,...s];this.#Xt=[a,...r];this.length=this.#Zt.length}}}pattern(){return this.#Zt[this.#te]}isString(){return typeof this.#Zt[this.#te]==="string"}isGlobstar(){return this.#Zt[this.#te]===A}isRegExp(){return this.#Zt[this.#te]instanceof RegExp}globString(){return this.#se=this.#se||(this.#te===0?this.isAbsolute()?this.#Xt[0]+this.#Xt.slice(1).join("/"):this.#Xt.join("/"):this.#Xt.slice(this.#te).join("/"))}hasMore(){return this.length>this.#te+1}rest(){if(this.#ie!==undefined)return this.#ie;if(!this.hasMore())return this.#ie=null;this.#ie=new Pattern(this.#Zt,this.#Xt,this.#te+1,this.#ee);this.#ie.#oe=this.#oe;this.#ie.#re=this.#re;this.#ie.#ne=this.#ne;return this.#ie}isUNC(){const i=this.#Zt;return this.#re!==undefined?this.#re:this.#re=this.#ee==="win32"&&this.#te===0&&i[0]===""&&i[1]===""&&typeof i[2]==="string"&&!!i[2]&&typeof i[3]==="string"&&!!i[3]}isDrive(){const i=this.#Zt;return this.#ne!==undefined?this.#ne:this.#ne=this.#ee==="win32"&&this.#te===0&&this.length>1&&typeof i[0]==="string"&&/^[a-z]:$/i.test(i[0])}isAbsolute(){const i=this.#Zt;return this.#oe!==undefined?this.#oe:this.#oe=i[0]===""&&i.length>1||this.isDrive()||this.isUNC()}root(){const i=this.#Zt[0];return typeof i==="string"&&this.isAbsolute()&&this.#te===0?i:""}checkFollowGlobstar(){return!(this.#te===0||!this.isGlobstar()||!this.#ae)}markFollowGlobstar(){if(this.#te===0||!this.isGlobstar()||!this.#ae)return false;this.#ae=false;return true}}const se=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Ignore{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(i,{nobrace:s,nocase:n,noext:r,noglobstar:o,platform:a=se}){this.relative=[];this.absolute=[];this.relativeChildren=[];this.absoluteChildren=[];this.platform=a;this.mmopts={dot:true,nobrace:s,nocase:n,noext:r,noglobstar:o,optimizationLevel:2,platform:a,nocomment:true,nonegate:true};for(const s of i)this.add(s)}add(i){const s=new Minimatch(i,this.mmopts);for(let i=0;i<s.set.length;i++){const n=s.set[i];const r=s.globParts[i];if(!n||!r){throw new Error("invalid pattern object")}while(n[0]==="."&&r[0]==="."){n.shift();r.shift()}const o=new Pattern(n,r,0,this.platform);const a=new Minimatch(o.globString(),this.mmopts);const h=r[r.length-1]==="**";const l=o.isAbsolute();if(l)this.absolute.push(a);else this.relative.push(a);if(h){if(l)this.absoluteChildren.push(a);else this.relativeChildren.push(a)}}}ignored(i){const s=i.fullpath();const n=`${s}/`;const r=i.relative()||".";const o=`${r}/`;for(const i of this.relative){if(i.match(r)||i.match(o))return true}for(const i of this.absolute){if(i.match(s)||i.match(n))return true}return false}childrenIgnored(i){const s=i.fullpath()+"/";const n=(i.relative()||".")+"/";for(const i of this.relativeChildren){if(i.match(n))return true}for(const i of this.absoluteChildren){if(i.match(s))return true}return false}}class HasWalkedCache{store;constructor(i=new Map){this.store=i}copy(){return new HasWalkedCache(new Map(this.store))}hasWalked(i,s){return this.store.get(i.fullpath())?.has(s.globString())}storeWalked(i,s){const n=i.fullpath();const r=this.store.get(n);if(r)r.add(s.globString());else this.store.set(n,new Set([s.globString()]))}}class MatchRecord{store=new Map;add(i,s,n){const r=(s?2:0)|(n?1:0);const o=this.store.get(i);this.store.set(i,o===undefined?r:r&o)}entries(){return[...this.store.entries()].map((([i,s])=>[i,!!(s&2),!!(s&1)]))}}class SubWalks{store=new Map;add(i,s){if(!i.canReaddir()){return}const n=this.store.get(i);if(n){if(!n.find((i=>i.globString()===s.globString()))){n.push(s)}}else this.store.set(i,[s])}get(i){const s=this.store.get(i);if(!s){throw new Error("attempting to walk unknown path")}return s}entries(){return this.keys().map((i=>[i,this.store.get(i)]))}keys(){return[...this.store.keys()].filter((i=>i.canReaddir()))}}class Processor{hasWalkedCache;matches=new MatchRecord;subwalks=new SubWalks;patterns;follow;dot;opts;constructor(i,s){this.opts=i;this.follow=!!i.follow;this.dot=!!i.dot;this.hasWalkedCache=s?s.copy():new HasWalkedCache}processPatterns(i,s){this.patterns=s;const n=s.map((s=>[i,s]));for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);const n=s.root();const r=s.isAbsolute()&&this.opts.absolute!==false;if(n){i=i.resolve(n==="/"&&this.opts.root!==undefined?this.opts.root:n);const r=s.rest();if(!r){this.matches.add(i,true,false);continue}else{s=r}}if(i.isENOENT())continue;let o;let a;let h=false;while(typeof(o=s.pattern())==="string"&&(a=s.rest())){const n=i.resolve(o);i=n;s=a;h=true}o=s.pattern();a=s.rest();if(h){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof o==="string"){const s=o===".."||o===""||o===".";this.matches.add(i.resolve(o),r,s);continue}else if(o===A){if(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar()){this.subwalks.add(i,s)}const n=a?.pattern();const o=a?.rest();if(!a||(n===""||n===".")&&!o){this.matches.add(i,r,n===""||n===".")}else{if(n===".."){const s=i.parent||i;if(!o)this.matches.add(s,r,true);else if(!this.hasWalkedCache.hasWalked(s,o)){this.subwalks.add(s,o)}}}}else if(o instanceof RegExp){this.subwalks.add(i,s)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Processor(this.opts,this.hasWalkedCache)}filterEntries(i,s){const n=this.subwalks.get(i);const r=this.child();for(const i of s){for(const s of n){const n=s.isAbsolute();const o=s.pattern();const a=s.rest();if(o===A){r.testGlobstar(i,s,a,n)}else if(o instanceof RegExp){r.testRegExp(i,o,a,n)}else{r.testString(i,o,a,n)}}}return r}testGlobstar(i,s,n,r){if(this.dot||!i.name.startsWith(".")){if(!s.hasMore()){this.matches.add(i,r,false)}if(i.canReaddir()){if(this.follow||!i.isSymbolicLink()){this.subwalks.add(i,s)}else if(i.isSymbolicLink()){if(n&&s.checkFollowGlobstar()){this.subwalks.add(i,n)}else if(s.markFollowGlobstar()){this.subwalks.add(i,s)}}}}if(n){const s=n.pattern();if(typeof s==="string"&&s!==".."&&s!==""&&s!=="."){this.testString(i,s,n.rest(),r)}else if(s===".."){const s=i.parent||i;this.subwalks.add(s,n)}else if(s instanceof RegExp){this.testRegExp(i,s,n.rest(),r)}}}testRegExp(i,s,n,r){if(!s.test(i.name))return;if(!n){this.matches.add(i,r,false)}else{this.subwalks.add(i,n)}}testString(i,s,n,r){if(!i.isNamed(s))return;if(!n){this.matches.add(i,r,false)}else{this.subwalks.add(i,n)}}}const makeIgnore=(i,s)=>typeof i==="string"?new Ignore([i],s):Array.isArray(i)?new Ignore(i,s):i;class GlobUtil{path;patterns;opts;seen=new Set;paused=false;aborted=false;#he=[];#le;#ce;signal;maxDepth;includeChildMatches;constructor(i,s,n){this.patterns=i;this.path=s;this.opts=n;this.#ce=!n.posix&&n.platform==="win32"?"\\":"/";this.includeChildMatches=n.includeChildMatches!==false;if(n.ignore||!this.includeChildMatches){this.#le=makeIgnore(n.ignore??[],n);if(!this.includeChildMatches&&typeof this.#le.add!=="function"){const i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}}this.maxDepth=n.maxDepth||Infinity;if(n.signal){this.signal=n.signal;this.signal.addEventListener("abort",(()=>{this.#he.length=0}))}}#ue(i){return this.seen.has(i)||!!this.#le?.ignored?.(i)}#fe(i){return!!this.#le?.childrenIgnored?.(i)}pause(){this.paused=true}resume(){if(this.signal?.aborted)return;this.paused=false;let i=undefined;while(!this.paused&&(i=this.#he.shift())){i()}}onResume(i){if(this.signal?.aborted)return;if(!this.paused){i()}else{this.#he.push(i)}}async matchCheck(i,s){if(s&&this.opts.nodir)return undefined;let n;if(this.opts.realpath){n=i.realpathCached()||await i.realpath();if(!n)return undefined;i=n}const r=i.isUnknown()||this.opts.stat;const o=r?await i.lstat():i;if(this.opts.follow&&this.opts.nodir&&o?.isSymbolicLink()){const i=await o.realpath();if(i&&(i.isUnknown()||this.opts.stat)){await i.lstat()}}return this.matchCheckTest(o,s)}matchCheckTest(i,s){return i&&(this.maxDepth===Infinity||i.depth()<=this.maxDepth)&&(!s||i.canReaddir())&&(!this.opts.nodir||!i.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!i.isSymbolicLink()||!i.realpathCached()?.isDirectory())&&!this.#ue(i)?i:undefined}matchCheckSync(i,s){if(s&&this.opts.nodir)return undefined;let n;if(this.opts.realpath){n=i.realpathCached()||i.realpathSync();if(!n)return undefined;i=n}const r=i.isUnknown()||this.opts.stat;const o=r?i.lstatSync():i;if(this.opts.follow&&this.opts.nodir&&o?.isSymbolicLink()){const i=o.realpathSync();if(i&&(i?.isUnknown()||this.opts.stat)){i.lstatSync()}}return this.matchCheckTest(o,s)}matchFinish(i,s){if(this.#ue(i))return;if(!this.includeChildMatches&&this.#le?.add){const s=`${i.relativePosix()}/**`;this.#le.add(s)}const n=this.opts.absolute===undefined?s:this.opts.absolute;this.seen.add(i);const r=this.opts.mark&&i.isDirectory()?this.#ce:"";if(this.opts.withFileTypes){this.matchEmit(i)}else if(n){const s=this.opts.posix?i.fullpathPosix():i.fullpath();this.matchEmit(s+r)}else{const s=this.opts.posix?i.relativePosix():i.relative();const n=this.opts.dotRelative&&!s.startsWith(".."+this.#ce)?"."+this.#ce:"";this.matchEmit(!s?"."+r:n+s+r)}}async match(i,s,n){const r=await this.matchCheck(i,n);if(r)this.matchFinish(r,s)}matchSync(i,s,n){const r=this.matchCheckSync(i,n);if(r)this.matchFinish(r,s)}walkCB(i,s,n){if(this.signal?.aborted)n();this.walkCB2(i,s,new Processor(this.opts),n)}walkCB2(i,s,n,r){if(this.#fe(i))return r();if(this.signal?.aborted)r();if(this.paused){this.onResume((()=>this.walkCB2(i,s,n,r)));return}n.processPatterns(i,s);let o=1;const next=()=>{if(--o===0)r()};for(const[i,s,r]of n.matches.entries()){if(this.#ue(i))continue;o++;this.match(i,s,r).then((()=>next()))}for(const i of n.subwalkTargets()){if(this.maxDepth!==Infinity&&i.depth()>=this.maxDepth){continue}o++;const s=i.readdirCached();if(i.calledReaddir())this.walkCB3(i,s,n,next);else{i.readdirCB(((s,r)=>this.walkCB3(i,r,n,next)),true)}}next()}walkCB3(i,s,n,r){n=n.filterEntries(i,s);let o=1;const next=()=>{if(--o===0)r()};for(const[i,s,r]of n.matches.entries()){if(this.#ue(i))continue;o++;this.match(i,s,r).then((()=>next()))}for(const[i,s]of n.subwalks.entries()){o++;this.walkCB2(i,s,n.child(),next)}next()}walkCBSync(i,s,n){if(this.signal?.aborted)n();this.walkCB2Sync(i,s,new Processor(this.opts),n)}walkCB2Sync(i,s,n,r){if(this.#fe(i))return r();if(this.signal?.aborted)r();if(this.paused){this.onResume((()=>this.walkCB2Sync(i,s,n,r)));return}n.processPatterns(i,s);let o=1;const next=()=>{if(--o===0)r()};for(const[i,s,r]of n.matches.entries()){if(this.#ue(i))continue;this.matchSync(i,s,r)}for(const i of n.subwalkTargets()){if(this.maxDepth!==Infinity&&i.depth()>=this.maxDepth){continue}o++;const s=i.readdirSync();this.walkCB3Sync(i,s,n,next)}next()}walkCB3Sync(i,s,n,r){n=n.filterEntries(i,s);let o=1;const next=()=>{if(--o===0)r()};for(const[i,s,r]of n.matches.entries()){if(this.#ue(i))continue;this.matchSync(i,s,r)}for(const[i,s]of n.subwalks.entries()){o++;this.walkCB2Sync(i,s,n.child(),next)}next()}}class GlobWalker extends GlobUtil{matches=new Set;constructor(i,s,n){super(i,s,n)}matchEmit(i){this.matches.add(i)}async walk(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){await this.path.lstat()}await new Promise(((i,s)=>{this.walkCB(this.path,this.patterns,(()=>{if(this.signal?.aborted){s(this.signal.reason)}else{i(this.matches)}}))}));return this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason}));return this.matches}}class GlobStream extends GlobUtil{results;constructor(i,s,n){super(i,s,n);this.results=new Minipass({signal:this.signal,objectMode:true});this.results.on("drain",(()=>this.resume()));this.results.on("resume",(()=>this.resume()))}matchEmit(i){this.results.write(i);if(!this.results.flowing)this.pause()}stream(){const i=this.path;if(i.isUnknown()){i.lstat().then((()=>{this.walkCB(i,this.patterns,(()=>this.results.end()))}))}else{this.walkCB(i,this.patterns,(()=>this.results.end()))}return this.results}streamSync(){if(this.path.isUnknown()){this.path.lstatSync()}this.walkCBSync(this.path,this.patterns,(()=>this.results.end()));return this.results}}const ne=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";class Glob{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(i,s){if(!s)throw new TypeError("glob options required");this.withFileTypes=!!s.withFileTypes;this.signal=s.signal;this.follow=!!s.follow;this.dot=!!s.dot;this.dotRelative=!!s.dotRelative;this.nodir=!!s.nodir;this.mark=!!s.mark;if(!s.cwd){this.cwd=""}else if(s.cwd instanceof URL||s.cwd.startsWith("file://")){s.cwd=(0,D.fileURLToPath)(s.cwd)}this.cwd=s.cwd||"";this.root=s.root;this.magicalBraces=!!s.magicalBraces;this.nobrace=!!s.nobrace;this.noext=!!s.noext;this.realpath=!!s.realpath;this.absolute=s.absolute;this.includeChildMatches=s.includeChildMatches!==false;this.noglobstar=!!s.noglobstar;this.matchBase=!!s.matchBase;this.maxDepth=typeof s.maxDepth==="number"?s.maxDepth:Infinity;this.stat=!!s.stat;this.ignore=s.ignore;if(this.withFileTypes&&this.absolute!==undefined){throw new Error("cannot set absolute and withFileTypes:true")}if(typeof i==="string"){i=[i]}this.windowsPathsNoEscape=!!s.windowsPathsNoEscape||s.allowWindowsEscape===false;if(this.windowsPathsNoEscape){i=i.map((i=>i.replace(/\\/g,"/")))}if(this.matchBase){if(s.noglobstar){throw new TypeError("base matching requires globstar")}i=i.map((i=>i.includes("/")?i:`./**/${i}`))}this.pattern=i;this.platform=s.platform||ne;this.opts={...s,platform:this.platform};if(s.scurry){this.scurry=s.scurry;if(s.nocase!==undefined&&s.nocase!==s.scurry.nocase){throw new Error("nocase option contradicts provided scurry option")}}else{const i=s.platform==="win32"?PathScurryWin32:s.platform==="darwin"?PathScurryDarwin:s.platform?PathScurryPosix:ie;this.scurry=new i(this.cwd,{nocase:s.nocase,fs:s.fs})}this.nocase=this.scurry.nocase;const n=this.platform==="darwin"||this.platform==="win32";const r={...s,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:true,noext:this.noext,nonegate:true,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug};const o=this.pattern.map((i=>new Minimatch(i,r)));const[a,h]=o.reduce(((i,s)=>{i[0].push(...s.set);i[1].push(...s.globParts);return i}),[[],[]]);this.patterns=a.map(((i,s)=>{const n=h[s];if(!n)throw new Error("invalid pattern object");return new Pattern(i,n,0,this.platform)}))}async walk(){return[...await new GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==Infinity?this.maxDepth+this.scurry.cwd.depth():Infinity,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}const hasMagic=(i,s={})=>{if(!Array.isArray(i)){i=[i]}for(const n of i){if(new Minimatch(n,s).hasMagic())return true}return false};function globStreamSync(i,s={}){return new Glob(i,s).streamSync()}function globStream(i,s={}){return new Glob(i,s).stream()}function globSync(i,s={}){return new Glob(i,s).walkSync()}async function glob_(i,s={}){return new Glob(i,s).walk()}function globIterateSync(i,s={}){return new Glob(i,s).iterateSync()}function globIterate(i,s={}){return new Glob(i,s).iterate()}const re=globStreamSync;const oe=Object.assign(globStream,{sync:globStreamSync});const ae=globIterateSync;const he=Object.assign(globIterate,{sync:globIterateSync});const le=Object.assign(globSync,{stream:globStreamSync,iterate:globIterateSync});const ce=Object.assign(glob_,{glob:glob_,globSync:globSync,sync:le,globStream:globStream,stream:oe,globStreamSync:globStreamSync,streamSync:re,globIterate:globIterate,iterate:he,globIterateSync:globIterateSync,iterateSync:ae,Glob:Glob,hasMagic:hasMagic,escape:escape_escape,unescape:unescape_unescape});ce.glob=ce;var unescapeContent=function(i){return i.replace(/\\[^u]|\\u.{4}/g,(function(i){var s=i.charAt(1);switch(s){case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"u":var n=i.slice(2,6);if(!/[\da-f]{4}/i.test(n))throw new Error("malformed escaped unicode characters '\\u".concat(n,"'"));return String.fromCodePoint(Number.parseInt(n,16));default:return s}}))};var ue=undefined&&undefined.__values||function(i){var s="function"==typeof Symbol&&Symbol.iterator,n=s&&i[s],r=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};var fe=function(){function t(i,s,n){this.key="",this.escapedKey="",this.hasNoKey=!1,this.hasMultilineKey=!1,this.keyCollisionLines=[],this.hasKeyCollisions=!1,this.value="",this.escapedValue="",this.hasNoValue=!1,this.newlinePositions=[],this.linesContent=i.content,this.startingLineNumber=s,this.endingLineNumber=s,this.previousProperty=n,null==n||n.setNextProperty(this)}return t.prototype.setNextProperty=function(i){this.nextProperty=i},t.prototype.addLine=function(i){this.linesContent.length>0&&(this.newlinePositions.push(this.linesContent.length),this.endingLineNumber++),this.linesContent+=i.content},t.prototype.setKeyAndValue=function(){this.findSeparator(),void 0!==this.separatorPosition&&void 0!==this.separatorLength?(this.hasNoKey||(this.escapedKey=this.linesContent.slice(0,this.separatorPosition),this.key=this.unescapeLine(this.escapedKey,this.startingLineNumber)),this.hasNoValue||(this.escapedValue=this.linesContent.slice(this.separatorPosition+this.separatorLength),this.value=this.unescapeLine(this.escapedValue,this.startingLineNumber))):this.hasNoValue&&(this.escapedKey=this.linesContent,this.key=this.unescapeLine(this.escapedKey,this.startingLineNumber))},t.prototype.unescapeLine=function(i,s){try{return unescapeContent(i)}catch(i){throw new Error("".concat(i.message," in property starting at line ").concat(s))}},t.prototype.findSeparator=function(){var i,s;if(!(this.hasNoKey||this.hasNoValue||this.separatorPosition)){try{for(var n=ue(this.linesContent.matchAll(/[\t\f :=]/g)),r=n.next();!r.done;r=n.next()){var o=r.value.index,a=this.linesContent.slice(0,o).match(/(\\+)$/);if(a)if(!!(a[1].length%2))continue;var h="";this.separatorPosition=o;var l=this.linesContent.slice(o),c=(l.match(/^([\t\n\v\f\r ]+)/)||[""])[0];c.length>0&&(h+=c,l=l.slice(c.length)),/[:=]/.test(l[0])&&(h+=l[0],h+=((l=l.slice(1)).match(/^([\t\n\v\f\r ]+)/)||[""])[0]),this.separatorLength=h.length,this.valuePosition=this.separatorPosition+this.separatorLength,this.separator=this.linesContent.slice(this.separatorPosition,this.separatorPosition+this.separatorLength),o||(this.hasNoKey=!0);break}}catch(s){i={error:s}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}void 0===this.separatorPosition?this.hasNoValue=!0:this.newlinePositions.length>0&&this.newlinePositions[0]<this.separatorPosition&&(this.hasMultilineKey=!0)}},t}();var PropertyLine=function(i,s){if(this.isContinuing=!1,this.isBlank=!1,this.isComment=!1,this.content=i.trimStart(),this.isMultiline=s,0===this.content.length)this.isBlank=!0;else if(this.isMultiline||(this.isComment=!!/^[!#]/.test(this.content)),!this.isComment){var n=this.content.match(/(\\+)$/);n&&(this.isContinuing=!!(n[1].length%2),this.isContinuing&&(this.content=this.content.slice(0,-1)))}};var de=undefined&&undefined.__values||function(i){var s="function"==typeof Symbol&&Symbol.iterator,n=s&&i[s],r=0;if(n)return n.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},pe=undefined&&undefined.__read||function(i,s){var n="function"==typeof Symbol&&i[Symbol.iterator];if(!n)return i;var r,o,a=n.call(i),h=[];try{for(;(void 0===s||s-- >0)&&!(r=a.next()).done;)h.push(r.value)}catch(i){o={error:i}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return h};var me="\ufeff";var ge=me.codePointAt(0);var ye="\n";var getFirstEolCharacter=function(i){var s=i.indexOf("\n");return-1===s?void 0:"".concat("\r"===i[s-1]?"\r":"","\n")};var we=function(){function e(i){var s;this.collection=[],this.keyLineNumbers={};var n="string"==typeof i?i:i.toString();this.hasBom=n.codePointAt(0)===ge,this.eolCharacter=null!==(s=getFirstEolCharacter(n))&&void 0!==s?s:ye,this.lines=(this.hasBom?n.slice(1):n).split(/\r?\n/),this.parseLines()}return e.prototype.parseLines=function(){var i,s;this.collection=[],this.keyLineNumbers={};var n,r,o=0;try{for(var a=de(this.lines),h=a.next();!h.done;h=a.next()){var l=h.value;o++;var c=new PropertyLine(l,!!n);if(n){if(n.addLine(c),c.isContinuing)continue}else{if(c.isComment||c.isBlank)continue;if(n=new fe(c,o,r),c.isContinuing)continue}this.addToCollection(n),r=n,n=void 0}}catch(s){i={error:s}}finally{try{h&&!h.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}},e.prototype.addToCollection=function(i){var s;i.setKeyAndValue(),(null===(s=this.keyLineNumbers[i.key])||void 0===s?void 0:s.length)?(this.keyLineNumbers[i.key].push(i.startingLineNumber),i.hasKeyCollisions=!0,i.keyCollisionLines=this.keyLineNumbers[i.key],this.collection=this.collection.filter((function(s){return s.key!==i.key}))):this.keyLineNumbers[i.key]=[i.startingLineNumber],this.collection.push(i)},e.prototype.getKeyCollisions=function(){var i,s,n=[];try{for(var r=de(Object.entries(this.keyLineNumbers)),o=r.next();!o.done;o=r.next()){var a=pe(o.value,2),h=a[0],l=a[1];l.length>1&&n.push(new ve(h,l))}}catch(s){i={error:s}}finally{try{o&&!o.done&&(s=r.return)&&s.call(r)}finally{if(i)throw i.error}}return n},e.prototype.toObject=function(){var i={};return this.collection.forEach((function(s){i[s.key]=s.value})),i},e.prototype.format=function(i){return"".concat(this.hasBom?me:"").concat(this.lines.join(i||this.eolCharacter))},e}();var ve=function(){function e(i,s){this.key=i,this.startingLineNumbers=s}return e.prototype.getApplicableLineNumber=function(){return this.startingLineNumbers.slice(-1)[0]},e}();var getProperties=function(i){return new we(i).toObject()};const setSingleValue=(i,s)=>{o.debug(` Setting output ${i} to ${s}`);o.setOutput(i,s);o.setOutput("value",s);o.debug(` Setting legacy output value to ${s} (for backwards compatibility)`)};const run=async i=>{o.debug(`Got back file ${i.file}`);const s=await ce(i.file,{ignore:["**/node_modules/**","**/.gradle/**"]});o.debug(`Got back propertiesFiles ${s}`);if(s.length===0)throw new Error(`No properties files found with pattern ${i.file}`);if(s.length>1)o.warning(`Multiple properties files found, using first one (${s[0]}).`);if(!s[0]?.toLowerCase()?.endsWith(".properties"))throw new Error(`File ${s[0]} is not a properties file`);if(!s[0])throw new Error(`File ${s[0]} is undefined/null... This should not happen!`);if(!V().existsSync(s[0]))throw new Error(`File ${s[0]} does not exist... This should not happen!`);const n=s[0];o.debug(` Using properties file ${n}`);const r=await(0,h.readFile)(n,"utf8"),a=getProperties(r);if(i.all){o.debug(" Got all as true, setting all properties as outputs");for(const[i,s]of Object.entries(a)){o.debug(` Setting output ${i} to ${s}`);o.setOutput(i,s)}o.info(" Successfully set all properties as outputs");return}const{property:l}=i;if(!l)throw new Error("Property is not defined");const c=a[l];if(c){o.debug(` Setting output ${l} to ${c}`);setSingleValue(l,c);o.info(` Successfully set property ${l} as output`);return}const u=i.default;if(u){o.debug(` Got a default value ${u} for property ${l} returning that instead`);setSingleValue(l,u);o.info(` Successfully set property ${l} as output`);return}throw new Error(`Property ${l} not found in properties file`)};const be=Date.now(),main=async()=>{o.debug(" Starting...");await run({file:(0,a.getInput)("file",{type:"string",required:true}),property:(0,a.getInput)("property",{type:"string",required:false,disableable:true}),all:(0,a.getInput)("all",{type:"boolean",default:false,disableable:true}),default:(0,a.getInput)("default",{type:"string",required:false,disableable:true})});o.debug(` Ran in ${Date.now()-be}ms`)};main().catch((i=>{o.setFailed(i instanceof Error?i:String(i));o.debug(` Ran in ${Date.now()-be}ms`)}));
//# sourceMappingURL=index.js.map